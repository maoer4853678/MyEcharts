<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>3D散点图</title>
    <!-- 引入 echarts.js -->
    <script src="../js/echarts.min.js"></script>
    <script src="../js/echarts-gl.min.js"></script>
</head>
<body>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="width: 1500px;height:450px;"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例

        var myChart = document.getElementById('main');
        if (window.innerWidth>50) 
    {
        if (window.innerHeight>50) 
        {
            myChart.style.width = window.innerWidth-30+'px';
            myChart.style.height = window.innerHeight-30+'px';
        }   
    }
             
var itemStyle = {
    normal: {
        opacity: 0.8,
        shadowBlur: 10,
        shadowOffsetX: 0,
        shadowOffsetY: 0,
        shadowColor: 'rgba(0, 0, 0, 0.5)'
    }
};
    var alldata = {"A": [["var1", "var2", "var3", "class"], [0.6806497734051615, 0.5032776607341464, 0.5591001713078092, "A"], [0.6882530462649217, 0.7125762333441034, 0.03737945313422952, "A"], [0.7732020049115722, 0.507484545670492, 0.4798827308197616, "A"], [0.16520645023514224, 0.8538928903706765, 0.9674620253963541, "A"], [0.6260121160567061, 0.11521790572834278, 0.3871587738315102, "A"], [0.53984389323814, 0.26470846027841033, 0.3810409704395662, "A"], [0.2622026338934075, 0.679226908784257, 0.3711849236980014, "A"], [0.5605256917702325, 0.6500559358330126, 0.020318441170357193, "A"], [0.7019208592773036, 0.7553109913344558, 0.7206119669549544, "A"], [0.6768195548099576, 0.849724074430903, 0.48086462746079517, "A"], [0.21028035595428674, 0.3508144001578375, 0.4397304203019665, "A"], [0.8325678888825049, 0.9861549056565028, 0.108016817697141, "A"], [0.7418185870833354, 0.3079014945092482, 0.11427608547864987, "A"], [0.7279887988235365, 0.6178507039029482, 0.5139769934619328, "A"], [0.4996458200121464, 0.6908656388440665, 0.25489492145644266, "A"], [0.16916815318113587, 0.840972799216317, 0.34357846185423857, "A"], [0.5182872962822483, 0.5909075639645229, 0.7177628468817109, "A"], [0.6995295675683108, 0.3438039137009269, 0.6857776437171965, "A"], [0.42579761179551856, 0.5828072637479238, 0.9643889640967698, "A"], [0.38314317628351513, 0.01238136832675174, 0.20374172226515874, "A"], [0.8920395655798393, 0.3290082831814042, 0.6535489682376703, "A"], [0.26088941838601876, 0.48461574981974476, 0.34101296941172354, "A"], [0.9678611373571385, 0.806320468679013, 0.2378351848711565, "A"], [0.7465345361977344, 0.39666360860835903, 0.5700564155803611, "A"], [0.34761121957328134, 0.9666693873123899, 0.6786396208375891, "A"], [0.11504863012584476, 0.6099012729256016, 0.16232391889817088, "A"], [0.02908971454367737, 0.3306610281508695, 0.8754214764386564, "A"], [0.7808594803693854, 0.4711617384287192, 0.9388120526321928, "A"], [0.6275196273251836, 0.12693208013946167, 0.07380693259308779, "A"], [0.5076700813852238, 0.45930784488518706, 0.91506546562556, "A"], [0.880083109301249, 0.4890597565145661, 0.9078040903080636, "A"], [0.0352598620530602, 0.042969730627519964, 0.7075848546077073, "A"], [0.5981054324164996, 0.3371899804481657, 0.3313034609505662, "A"], [0.3971439067266074, 0.2856956582615837, 0.994079650350707, "A"], [0.05639579882283774, 0.6528371784086395, 0.4534326820182125, "A"], [0.17849215027221765, 0.9360248646777749, 0.02446320458160056, "A"], [0.09601576056439143, 0.39290770659871044, 0.8061191607826578, "A"], [0.23119979784072553, 0.17045602064125054, 0.1324672884989314, "A"], [0.9978400081010466, 0.06692795075662017, 0.8744832518100852, "A"], [0.8597407017337858, 0.6931794559588657, 0.3618946736969173, "A"], [0.7666688672490611, 0.6874498025359261, 0.7093476456440592, "A"], [0.2506709208820357, 0.38615731788337126, 0.9323966579282167, "A"], [0.8590785950824812, 0.8547830727161211, 0.30420506327414965, "A"], [0.28858791541923134, 0.4423284619730199, 0.39556268979869746, "A"], [0.8889495527097181, 0.6537986583877545, 0.3880813525160215, "A"], [0.23348219001507786, 0.9725921296687022, 0.871703643144661, "A"], [0.8789045438415287, 0.16435826217070182, 0.8845746181296291, "A"], [0.9418316361193371, 0.6991251254361898, 0.3840519248598131, "A"], [0.7534935006218816, 0.4271823900142345, 0.24506165897978816, "A"], [0.40122039018079914, 0.17156117458830666, 0.35318824716350206, "A"]], "B": [["var1", "var2", "var3", "class"], [0.4498568135030503, 0.024698934345497192, 0.6994958722902044, "B"], [0.3907781387719579, 0.7107199716014291, 0.6476299440884636, "B"], [0.41374438833545246, 0.08255433817225988, 0.5287815031121632, "B"], [0.2721360940618963, 0.6884677955752393, 0.726384772452809, "B"], [0.22344459885556756, 0.6012747340542227, 0.4394796260886612, "B"], [0.29335197980484207, 0.21261439800264692, 0.06972390282551355, "B"], [0.47709248231531476, 0.6590752569919641, 0.22105694111775198, "B"], [0.15108984976856354, 0.6859664776716446, 0.09531931152637885, "B"], [0.3862626463485269, 0.08812414174331618, 0.45061365046435264, "B"], [0.4338643278227148, 0.3950069960076483, 0.737395437326674, "B"], [0.1474992441795142, 0.9668038231872974, 0.8560678204037565, "B"], [0.45709181670099375, 0.0989238510156022, 0.9315156767362686, "B"], [0.21339315146064308, 0.872556624800088, 0.38036478982611166, "B"], [0.9752113069567867, 0.642586823395014, 0.651032826166369, "B"], [0.5711365677296899, 0.5219135126140038, 0.374618016799958, "B"], [0.16257687913614138, 0.7348315529606545, 0.8392900988411721, "B"], [0.7819457939856063, 0.8633173717012785, 0.321271871451297, "B"], [0.028335953356959154, 0.22502905201626933, 0.9399909914311758, "B"], [0.049517228422028436, 0.3105833554671893, 0.9332950716478003, "B"], [0.8690813529055924, 0.48484000127051163, 0.7905394901303265, "B"], [0.1844031709244487, 0.12849320812364817, 0.586802574792981, "B"], [0.29797114989496554, 0.1662595607204893, 0.9142008802851145, "B"], [0.9640670412820003, 0.2205583607770898, 0.9302361304712075, "B"], [0.7964189750643773, 0.8285687033035037, 0.549098812372532, "B"], [0.21383880309572123, 0.9605286247424888, 0.9806471830161112, "B"], [0.10025396203445192, 0.45536004481334647, 0.7740998617675303, "B"], [0.07574347762812916, 0.999840967088216, 0.05306341058033304, "B"], [0.4464712117841255, 0.42183195928241213, 0.8193774223764712, "B"], [0.2665257487836805, 0.34841507686412765, 0.8624342829760203, "B"], [0.3520829924796849, 0.13777730213608275, 0.3350931294873819, "B"], [0.5514326257742389, 0.706273355136474, 0.6404460855834708, "B"], [0.9245250155513312, 0.5433865217805496, 0.4493211678559881, "B"], [0.07454925671929136, 0.1474147733829303, 0.9707027388250848, "B"], [0.5466963127837167, 0.18964841258993026, 0.882490288821892, "B"], [0.004237046485789597, 0.0636629377380421, 0.6903728875031745, "B"], [0.10832308356330578, 0.6316094673073663, 0.0148339558681444, "B"], [0.8748393562942475, 0.6099068724592668, 0.49079415442628127, "B"], [0.040376739596578615, 0.29178224470751635, 0.2584300308794111, "B"], [0.7686673634703954, 0.5238712888553558, 0.012598324709621855, "B"], [0.3163570961386213, 0.2533324369588956, 0.5606232039389178, "B"], [0.33102754784376487, 0.9766980705525813, 0.2550858227113668, "B"], [0.8703711212270888, 0.09780623778213682, 0.04439485556581202, "B"], [0.4865337393923067, 0.9759074659803985, 0.15155477378345117, "B"], [0.7313921181103453, 0.2767243995885662, 0.5396156691822602, "B"], [0.09889052716315405, 0.14046392873784042, 0.6719817741590133, "B"], [0.11745667670001048, 0.7023639210615541, 0.37459753401899276, "B"], [0.683414235241552, 0.678032410227721, 0.09731388291085175, "B"], [0.545335541827256, 0.9241261236675755, 0.7442357658667155, "B"], [0.13259892101027804, 0.22744078884622787, 0.7570212773519821, "B"], [0.4850903394386248, 0.8650231654942475, 0.9493228813568212, "B"]]}
    var types = ["value", "value", "value"]
    var columns = {"Y": "var2", "X": "var1", "Z": "var3"}

    var myChart = echarts.init(myChart); 

    var symbolSize = 5;
    option = {
        grid3D: {},
        xAxis3D: {
            type: types[0]
        },
        legend:{data:[]},
        yAxis3D: {
            type: types[1]
        },
        zAxis3D: {
            type: types[2]
        },
        dataset: [],
        series: [
        ]
    };
    
     load()

function load()
    {
        n=0
        legend = []
        for (key in alldata)
        {
            data = {
                    source: alldata[key]
                }

            temp = {   
                name:key,
                type: 'scatter3D',
                symbolSize: symbolSize,
                encode: {
                    x: columns['X'],
                    y: columns['Y'],
                    z: columns['Z'],
                    tooltip: [0, 1, 2, 3]
                },
                datasetIndex :n
            }
            option.dataset.push(data)
            option.series.push(temp)
            legend.push(key)
        n=n+1
        }
        option.legend.data = legend
        myChart.setOption(option);
    }

    </script>
</body>
</html>