<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>3D散点图</title>
    <!-- 引入 echarts.js -->
    <script src="../js/echarts.min.js"></script>
    <script src="../js/echarts-gl.min.js"></script>
</head>
<body>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="width: 1500px;height:450px;"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例

        var myChart = document.getElementById('main');
        if (window.innerWidth>50) 
    {
        if (window.innerHeight>50) 
        {
            myChart.style.width = window.innerWidth-30+'px';
            myChart.style.height = window.innerHeight-30+'px';
        }   
    }
             
var itemStyle = {
    normal: {
        opacity: 0.8,
        shadowBlur: 10,
        shadowOffsetX: 0,
        shadowOffsetY: 0,
        shadowColor: 'rgba(0, 0, 0, 0.5)'
    }
};
    var alldata = {"A": [["var1", "var2", "var3", "class"], [0.04591613084584878, 0.5720245085787633, 0.25235054962985015, "A"], [0.3465601158165659, 0.8959956257432058, 0.4920407840216101, "A"], [0.5981139298136107, 0.5918505048836821, 0.6957807359151611, "A"], [0.1273961924035648, 0.4320541272110522, 0.7914743386628869, "A"], [0.8362617853919257, 0.1327956927740861, 0.2277927586372287, "A"], [0.880645300614784, 0.39864057816189946, 0.44767142060977283, "A"], [0.2769652216170738, 0.6784956491916593, 0.8302309859730094, "A"], [0.3790904257314427, 0.5391297982814534, 0.3759944964091445, "A"], [0.2877769524423823, 0.5957586351537176, 0.7431480931980703, "A"], [0.4853612205355381, 0.20209540411580174, 0.6950435143023953, "A"], [0.8494768574666467, 0.676881707911159, 0.16205119785986022, "A"], [0.6307598691737556, 0.9705229241661979, 0.3505372492302683, "A"], [0.5657882355523223, 0.35167592026948724, 0.19499293590704936, "A"], [0.05269941939454115, 0.4042655033554251, 0.07696545959593337, "A"], [0.6192456393873019, 0.8566158325551876, 0.003289677353175424, "A"], [0.629233817462706, 0.6323009517568994, 0.21071604475872263, "A"], [0.5737097301010236, 0.36626880632147385, 0.18876936041740144, "A"], [0.8657427372796368, 0.39549329726201565, 0.8416324544913514, "A"], [0.6832279978082286, 0.31268433882733015, 0.46916623256358536, "A"], [0.8195139145680962, 0.9621565191216978, 0.37623936073580955, "A"], [0.036072989515789744, 0.9168943683747752, 0.9107460448833605, "A"], [0.09320504206878277, 0.8625069909001817, 0.853478528628542, "A"], [0.2938517946132392, 0.9414346543180779, 0.12843593444849266, "A"], [0.9537916248379638, 0.7018237340625391, 0.7619849155259608, "A"], [0.6742287309412267, 0.33588738630549453, 0.5776000443138943, "A"], [0.2159364599188639, 0.6558040393657611, 0.5425501809286293, "A"], [0.04406261976596593, 0.004156881262215917, 0.8152401525644399, "A"], [0.898798962151178, 0.9166397639684623, 0.9290497166752085, "A"], [0.2008300277388052, 0.11791392586885974, 0.6892362951916131, "A"], [0.901082534391522, 0.33955797126334697, 0.45360427746440546, "A"], [0.45429028564892293, 0.6690455489880625, 0.554051748798877, "A"], [0.7964935934900825, 0.669631729972162, 0.27752763524762913, "A"], [0.8898621767181782, 0.4859745932140478, 0.3535560991784622, "A"], [0.1420392860829166, 0.4958879531718122, 0.4090605903172071, "A"], [0.9276357417073019, 0.4530200617527096, 0.9031046464723984, "A"], [0.7103765039867851, 0.18627888795898584, 0.915722186256232, "A"], [0.7005279876408594, 0.5068973623914624, 0.8607462644934603, "A"], [0.6560521017872821, 0.24578530527155873, 0.05322741420468069, "A"], [0.8086401492957098, 0.44324375607557553, 0.48926337042028123, "A"], [0.6804002752308499, 0.3492264758128695, 0.9857587784780827, "A"], [0.6216652921050544, 0.6288822417161302, 0.5243127987135741, "A"], [0.1973026635476306, 0.2520307870845221, 0.46636526672754763, "A"], [5.590098817731537e-05, 0.4462637874542219, 0.8981356172202185, "A"], [0.5295419420585058, 0.3882326773567578, 0.7767448134143927, "A"], [0.9278619558344434, 0.05933511390772572, 0.4467211131635559, "A"], [0.49646271350248383, 0.680131664671649, 0.9370018831717439, "A"], [0.6098895783919925, 0.17696978581653433, 0.8721467975545946, "A"], [0.2865626936021236, 0.8211801030466647, 0.030035344512782558, "A"], [0.8589060948264884, 0.8716519753783305, 0.037140461919551226, "A"], [0.3566411754218384, 0.9718946275584457, 0.39611140827867153, "A"]], "B": [["var1", "var2", "var3", "class"], [0.46958922600877284, 0.8632545021557044, 0.16006574463392687, "B"], [0.5238829635320521, 0.5093885733104038, 0.10029647725084867, "B"], [0.504035212773878, 0.09119092042100907, 0.2048619120662546, "B"], [0.01042490305613264, 0.21930513067791801, 0.40293437641235264, "B"], [0.35002423540010585, 0.7115031775749603, 0.23246069173643358, "B"], [0.5444988997651716, 0.30641402256034056, 0.4095296666140942, "B"], [0.8342143710002368, 0.14930965262736073, 0.2360149124910692, "B"], [0.33885625187927326, 0.4474784154013993, 0.8584495886593234, "B"], [0.3020916588096678, 0.16103706233007697, 0.6707714152076188, "B"], [0.8101633595657621, 0.8470925962829866, 0.5784505845425248, "B"], [0.5383279499194787, 0.478662172751544, 0.7139938227446375, "B"], [0.36550287703874507, 0.5392098410587687, 0.04194831602780713, "B"], [0.5218871159507273, 0.6641435643141556, 0.45197092047911924, "B"], [0.3652284172358736, 0.45196736960537753, 0.20868023008949765, "B"], [0.28653514375791844, 0.2591071368193907, 0.7578191150546687, "B"], [0.597361336896809, 0.5681169870704195, 0.9540003893368268, "B"], [0.2246845967709853, 0.8484685689354825, 0.6604492780517272, "B"], [0.3020190587908582, 0.6538785797394291, 0.9426541191124392, "B"], [0.6413484299967678, 0.4527149454526208, 0.8226594261083773, "B"], [0.042136404483690604, 0.3626469131961516, 0.4847750731451931, "B"], [0.6453022366317552, 0.24110565311566734, 0.5218711876276179, "B"], [0.8043153593086232, 0.5685243241977669, 0.2977974968661874, "B"], [0.3501938032450296, 0.9289051286434439, 0.4967802891875013, "B"], [0.8228973058315778, 0.8537251267211078, 0.2699601184747672, "B"], [0.09326225311802705, 0.7477684935325847, 0.6018957858962504, "B"], [0.1695970255853816, 0.678869490867877, 0.7828980138270112, "B"], [0.33697631524394356, 0.17755020624810103, 0.9066507841786053, "B"], [0.015463369864195942, 0.3598989659334848, 0.3755541172247949, "B"], [0.902428631311588, 0.027240911189965744, 0.9632835380552086, "B"], [0.18879206250683545, 0.8684885679504866, 0.12381262185412156, "B"], [0.5296446290697341, 0.208351388819198, 0.9433483404719913, "B"], [0.9516675014404377, 0.35850158096727514, 0.8647208641857868, "B"], [0.7392643776601423, 0.01723415081998414, 0.6285600046793738, "B"], [0.6270785686865391, 0.8230188375359017, 0.7094741236816156, "B"], [0.03693584933900551, 0.2553469806514602, 0.07354175337292157, "B"], [0.6901624163097962, 0.6676383857847399, 0.2831357659491409, "B"], [0.004452096548468676, 0.2767332669997531, 0.40796031888937345, "B"], [0.2416517499969929, 0.696852724689715, 0.8396020606134854, "B"], [0.7376419052435235, 0.9125952868256682, 0.4480582911603963, "B"], [0.06429482740652137, 0.34097133115597444, 0.0296604019553266, "B"], [0.28154491650313973, 0.635952375091829, 0.38906247058384, "B"], [0.6733309651867646, 0.5735592803797418, 0.9001266395188372, "B"], [0.8862080069259218, 0.3474783953649828, 0.6000540027127399, "B"], [0.14686029809478574, 0.04305158843369372, 0.46317365354086537, "B"], [0.9785511778663012, 0.47396638569360316, 0.6458495408379199, "B"], [0.6502997630568963, 0.4929167247995805, 0.9448023176498423, "B"], [0.5109539347826242, 0.9151418337451244, 0.2655550028908851, "B"], [0.02034954767226027, 0.9452244643832718, 0.8784552493455614, "B"], [0.937469359342325, 0.7078565502416371, 0.438204392013813, "B"], [0.6277739361772446, 0.23589127415409306, 0.9115389811143481, "B"]]}
    var types = ["value", "value", "value"]
    var columns = {"Y": "var2", "X": "var1", "Z": "var3"}

    var myChart = echarts.init(myChart); 

    var symbolSize = 5;
    option = {
        grid3D: {},
        xAxis3D: {
            type: types[0]
        },
        legend:{data:[]},
        yAxis3D: {
            type: types[1]
        },
        zAxis3D: {
            type: types[2]
        },
        dataset: [],
        series: [
        ]
    };
    
     load()

function load()
    {
        n=0
        legend = []
        for (key in alldata)
        {
            data = {
                    source: alldata[key]
                }

            temp = {   
                name:key,
                type: 'scatter3D',
                symbolSize: symbolSize,
                encode: {
                    x: columns['X'],
                    y: columns['Y'],
                    z: columns['Z'],
                    tooltip: [0, 1, 2, 3]
                },
                datasetIndex :n
            }
            option.dataset.push(data)
            option.series.push(temp)
            legend.push(key)
        n=n+1
        }
        option.legend.data = legend
        myChart.setOption(option);
    }

    </script>
</body>
</html>