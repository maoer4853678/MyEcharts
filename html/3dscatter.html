<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>3D散点图</title>
    <!-- 引入 echarts.js -->
    <script src="../js/echarts.min.js"></script>
    <script src="../js/echarts-gl.min.js"></script>
</head>
<body>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="width: 1500px;height:450px;"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例

        var myChart = document.getElementById('main');
        if (window.innerWidth>50) 
    {
        if (window.innerHeight>50) 
        {
            myChart.style.width = window.innerWidth-30+'px';
            myChart.style.height = window.innerHeight-30+'px';
        }   
    }
             
var itemStyle = {
    normal: {
        opacity: 0.8,
        shadowBlur: 10,
        shadowOffsetX: 0,
        shadowOffsetY: 0,
        shadowColor: 'rgba(0, 0, 0, 0.5)'
    }
};
    var alldata = {"A": [["var1", "var2", "var3", "class", "var4"], [2.833375666920974, 11.558176706162378, 0.6458479669939808, "A", 35.323845184624645], [1.1539470938144236, 14.113432883189, 0.2938756945616019, "A", 26.484011139141746], [3.3873331649185587, 9.82608133507146, 0.5512225144020109, "A", 8.389537043537448], [6.211143493588763, 15.313629924669954, 0.738485411615086, "A", 32.66982657240198], [3.4809008444714165, 14.71087632837877, 0.4724707383776441, "A", 1.8570104192764836], [2.335021542472587, 6.724246177156125, 0.7236157551783367, "A", 39.34137163652976], [2.763389285475567, 12.303961102700843, 0.29457314913187627, "A", 19.735068013173198], [2.669606506006983, 2.101033585968348, 0.17277391241187579, "A", 22.922496208587795], [3.9691331946921204, 1.4744319689244145, 0.3408674920685091, "A", 49.6767346298006], [9.108246351265082, 3.9061709556891566, 0.9040377039196749, "A", 14.197818723233347], [9.028301524597586, 0.044705671654148293, 0.2382923098083185, "A", 43.427684221572676], [6.966344978249949, 13.588566408434609, 0.13992163381469302, "A", 14.736194529815666], [9.697641721144732, 13.835690322688015, 0.604797604704785, "A", 7.622807024020073], [1.57158406378188, 4.882580528373457, 0.6357337181476603, "A", 15.475181805671696], [8.180227694741472, 16.915517434437767, 0.6538953255045429, "A", 27.60061040769845], [0.5785779904648525, 9.593120017050257, 0.3024041959153184, "A", 32.68467817688476], [4.247148233579284, 13.015336295470586, 0.9557641398317684, "A", 12.184687654041642], [6.569689768918314, 19.78935273123702, 0.48985268323513453, "A", 7.35068376868952], [8.830765690936198, 2.0743796200467446, 0.21422183002119954, "A", 20.17456133357658], [9.65703337143671, 12.429128337765846, 0.8558389177316549, "A", 19.16769586932108], [8.230453656797335, 10.27980231004436, 0.38677660367511335, "A", 7.630215580797072], [0.7491990540298277, 16.53628343885722, 0.04494097446819556, "A", 46.83182637203288], [6.935998355776091, 16.29895499847061, 0.49998070738865985, "A", 46.07335588599094], [0.9520112128359648, 8.488951981242012, 0.14469133666797074, "A", 30.469762204757554], [6.165216958198493, 9.98037001605628, 0.7718469135895035, "A", 21.375748746524437], [8.185659092750043, 0.6073914724510043, 0.06648207806283501, "A", 31.3645137088425], [4.350225557123213, 16.497164049780014, 0.1712829696835051, "A", 17.266914784329057], [2.8013357565924157, 5.508809180222216, 0.3974551575440326, "A", 2.515720294493634], [3.150151924199135, 5.150206190199622, 0.23606658654482393, "A", 16.864665711381722], [7.295157675574574, 3.193915598090007, 0.4173842253758778, "A", 25.279863267624837], [4.96216437674526, 14.198563770263926, 0.5315664013768429, "A", 41.044594864268674], [4.479835758430156, 10.935718901920037, 0.5108852128667726, "A", 7.1028700526681305], [4.347308686940215, 3.770986737300148, 0.5635460691769687, "A", 8.829107484428246], [4.787422667496206, 6.747625080754602, 0.7910434041856739, "A", 15.816329075323921], [8.434951413806122, 1.6562031750806616, 0.41520427911324387, "A", 13.909031780760927], [0.3464908176041537, 13.592704644386526, 0.08769063693790913, "A", 17.539876381972917], [4.718165969654198, 13.281386756729168, 0.8856181014982359, "A", 41.8552460407522], [8.39625897549396, 16.682097318210122, 0.9283387678277581, "A", 46.54748498948523], [5.450057774974014, 17.008664715211157, 0.7621416627586944, "A", 10.715849550837664], [5.26523359672473, 19.13025103122916, 0.5623110188771143, "A", 0.019451846687962293], [2.449797835733313, 6.219209554406373, 0.17939532816388715, "A", 8.559773965984451], [9.240942331331398, 4.692715061389466, 0.6709261520728841, "A", 9.933449245462262], [6.631318036051183, 8.739396522754824, 0.44336303274947986, "A", 29.757214058640013], [0.026368377768379858, 13.876832924582889, 0.42004839190538157, "A", 19.422990199180738], [2.5160358174185085, 3.003523114237918, 0.4900308774406824, "A", 7.952276253444457], [3.0509494808449045, 19.790400149572545, 0.6229212688961803, "A", 37.875858725664195], [0.5467679284136373, 17.65427667018234, 0.74012163603596, "A", 27.87867400976525], [3.450204592965501, 15.436295026663416, 0.5035775980722318, "A", 49.4108285712663], [9.424907288178602, 16.731353800280917, 0.2823457243711769, "A", 9.33609723387303], [6.913149939601158, 7.703091938366827, 0.8433915682521198, "A", 47.780197332428635]], "B": [["var1", "var2", "var3", "class", "var4"], [5.947663870685842, 5.008560170857741, 0.26811730155218316, "B", 36.213423781628755], [2.919983141129464, 2.5071398002861867, 0.5488885455216014, "B", 25.719392673704533], [5.886778914592629, 8.887359405232637, 0.9396889389127512, "B", 43.38753945087434], [5.917914184769199, 11.28574820929638, 0.25632706809821604, "B", 15.344476052407574], [7.537501870089277, 10.51705641314195, 0.491558149273736, "B", 16.070182600511966], [3.5225938566342263, 17.1955042458654, 0.9156636922620464, "B", 22.781094939380186], [6.54521439265174, 9.87893322657824, 0.40579436694184323, "B", 1.2944878888841826], [6.132031837267485, 1.7872186156732228, 0.15465201051219213, "B", 42.604959443633625], [1.4722417452181058, 12.943819664544078, 0.2680555531025115, "B", 0.4816778791258358], [2.7193746292732532, 12.086517212763592, 0.21058082709155113, "B", 31.85859270152879], [9.434160252421616, 4.361319336924822, 0.5263809767862541, "B", 48.2553226549789], [0.33221211998228917, 16.602479973231816, 0.5024855793623605, "B", 4.804972164818139], [5.8506829945830425, 11.749130252568605, 0.5359947975874788, "B", 10.999868899411597], [9.460440584951208, 14.5916172122112, 0.11142556074405685, "B", 17.589202178836217], [3.743995224403905, 2.540322043542198, 0.10668583677224841, "B", 4.289362934372226], [5.513656773469036, 9.421338105076021, 0.7327482984141387, "B", 27.865532542768683], [0.6045224195427357, 1.3455136281874691, 0.8723475107875782, "B", 2.9127192764228482], [1.73437868962927, 10.20158142630049, 0.848673640922759, "B", 1.8708512854595016], [1.8876600349998562, 11.993094812337704, 0.22603278286247774, "B", 29.59015763639561], [1.9586931552276, 11.549727411418097, 0.3552739930431845, "B", 16.97706707605895], [7.478086257439616, 9.32920074428112, 0.3594976186372063, "B", 21.92462744651662], [9.798441074766304, 13.037017412979994, 0.6912567254962264, "B", 48.57866940182732], [3.215647844358479, 12.760319177346966, 0.1813350616773387, "B", 9.965271035890416], [3.140625512990145, 7.07004097384623, 0.16147754248446256, "B", 14.15978761073491], [6.385704195387598, 13.591358352618872, 0.4365488059213022, "B", 33.542716934467094], [6.38117969131609, 16.805603883940673, 0.27675986557358734, "B", 46.9829944761808], [3.1680563027266495, 9.228286750826527, 0.28850530805027097, "B", 29.863980728971697], [7.154205668313846, 12.3039560229801, 0.5929675838841204, "B", 7.981077333799042], [3.4414929346789878, 14.66016687950795, 0.6003355224644078, "B", 3.1910512056311067], [8.032478810404328, 2.083833913150055, 0.27778165524078824, "B", 30.138322396515093], [9.928237419834874, 19.450447663314716, 0.06927942275453236, "B", 9.596619445487603], [4.750954352384938, 18.24298741481924, 0.8167769988414076, "B", 40.569579204381604], [2.1865161530323, 6.2679436375436515, 0.08619871815162994, "B", 13.21229915007287], [9.470948326347774, 8.437692582494156, 0.6504015357707368, "B", 9.930146563039749], [8.7256360124948, 19.821395287757646, 0.4930343753016181, "B", 19.094295802462813], [6.570423035152681, 11.590488390994441, 0.227383154318193, "B", 37.700140927836436], [5.559150086395391, 5.073351273635501, 0.544794867729006, "B", 33.9537124391415], [8.732015472735597, 14.07674909942849, 0.44722989935327573, "B", 12.610822876627415], [5.621545763201375, 15.459747093145959, 0.17700778628438607, "B", 48.19329723996947], [9.3088035738121, 2.806007624311695, 0.909698291012927, "B", 16.573149563886204], [4.722804956668988, 15.197243343779508, 0.4298316643029212, "B", 12.18066077364609], [6.098951986595196, 5.709093786840951, 0.6254994683213333, "B", 12.113194193769283], [9.618451212808441, 11.501310322924533, 0.4585966253452197, "B", 36.92950445770547], [4.471566181097915, 16.570848646891047, 0.9949706240227655, "B", 1.8562274502003206], [1.1824395323418868, 3.1636835500845395, 0.5388917964410461, "B", 28.537573119352484], [8.479873009186692, 10.695145205071722, 0.8701256136695006, "B", 35.14750835598664], [6.159959468217115, 11.592035330061988, 0.19728756616785847, "B", 30.298551059476758], [7.21197800179073, 9.605166139557387, 0.9495392739755899, "B", 44.81817881022648], [9.75351202975751, 10.48464850755565, 0.42973716902978365, "B", 43.29233142527925], [0.8375685814283784, 5.686245744108202, 0.6600176805473249, "B", 1.4660171114878218]]}
    var types = ["value", "value", "value"]
    var columns = {"Y": "var2", "X": "var1", "Z": "var3", "T": "var4"}
    var other = 'var4'
    var mm = {"Y": [0.044705671654148293, 19.821395287757646], "X": [0.026368377768379858, 9.928237419834874], "Z": [0.04494097446819556, 0.9949706240227655], "T": [0.019451846687962293, 49.6767346298006]}
    var visual = 0
    var colorList = [
                          '#C1232B','#B5C334','#FCCE10','#E87C25','#27727B',
                           '#FE8463','#9BCA63','#FAD860','#F3A43B','#60C0DD',
                           '#D7504B','#C6E579','#F4E001','#F0805A','#26C0C0'
                        ];
    var myChart = echarts.init(myChart); 

    var symbolSize = 5;
    option = {
        toolbox: {
            show : true,
            feature : {
                mark : {show: true},
                dataView : {show: true, readOnly: false},
                restore : {show: true},
                saveAsImage : {show: true}
            }
        },
        visualMap: [
        ],
        grid3D: {},
        xAxis3D: {
            type: types[0]
        },
        legend:{data:[]},
        yAxis3D: {
            type: types[1]
        },
        zAxis3D: {
            type: types[2]
        },
        dataset: [],
        series: [
        ]
    };
    
     load()

function load()
    {

		maps = [{
            text:["Xmax","Xmin"],
            dimension:0,
            min:mm['X'][0],
            max:mm['X'][1],
            calculable: true,
            orient: 'horizontal',
            left: '20%',
            bottom: '85%',
            },
        {
            text:["Ymax","Ymin"],
            dimension:1,
            min:mm['Y'][0],
            max:mm['Y'][1],
            calculable: true,
            bottom: '50%',
        },
        {
            text:["Zmax","Zmin"],
            dimension:2,
            min:mm['Z'][0],
            max:mm['Z'][1],
            calculable: true,
            left: 'right',
            bottom: '50%',

        }]
        if (visual==1)
        {
			 option.visualMap = maps
			 if (other!='')
	        {
	            temp = {
	            text:[other+"_max",other+"_min"],
	            dimension:columns['T'],
	            min:mm['T'][0],
	            max:mm['T'][1],
	            orient: 'horizontal',
	            calculable: true,
	            left: '65%',
	            bottom: '85%',
	            }
	            option.visualMap.push(temp)
	        }
        }
   
        n=0
        legend = []
        for (key in alldata)
        {
            data = {
                    source: alldata[key]
                }

            temp = {   
                name:key,
                type: 'scatter3D',
                symbolSize: symbolSize,
                encode: {
                    x: columns['X'],
                    y: columns['Y'],
                    z: columns['Z'],
                    tooltip: [0, 1, 2, 3,4]
                },
                datasetIndex :n,
            }
            option.dataset.push(data)
            option.series.push(temp)
            legend.push(key)
        n=n+1
        }
        option.legend.data = legend
        myChart.setOption(option);
    }

    </script>
</body>
</html>