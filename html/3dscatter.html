<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>3D散点图</title>
    <!-- 引入 echarts.js -->
    <script src="../js/echarts.min.js"></script>
    <script src="../js/echarts-gl.min.js"></script>
</head>
<body>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="width: 1500px;height:450px;"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例

        var myChart = document.getElementById('main');
        if (window.innerWidth>50) 
    {
        if (window.innerHeight>50) 
        {
            myChart.style.width = window.innerWidth-30+'px';
            myChart.style.height = window.innerHeight-30+'px';
        }   
    }
             
var itemStyle = {
    normal: {
        opacity: 0.8,
        shadowBlur: 10,
        shadowOffsetX: 0,
        shadowOffsetY: 0,
        shadowColor: 'rgba(0, 0, 0, 0.5)'
    }
};
    var alldata = {"all": [["var1", "var2", "var3"], [0.13375191870543734, 0.9918258931387641, 0.08011412034235676], [0.3102931391391677, 0.9915214822526924, 0.465780500151432], [0.3650730162425957, 0.060321259478929634, 0.4296808494055945], [0.4698664519222655, 0.5262232716086793, 0.8265220425753099], [0.6899600190905709, 0.08074391015547844, 0.4501001305655472], [0.21193600207218488, 0.9593439859669646, 0.08185937629749895], [0.6310700536081391, 0.22413620188175154, 0.652758801893121], [0.7661444073649916, 0.8410187692392053, 0.7766741645916853], [0.352726787048953, 0.26532601615809326, 0.38681682274210716], [0.48746389959919134, 0.7347212734024386, 0.4199423007390687], [0.6074193517203113, 0.6775847129173567, 0.5483389393993697], [0.0755975195572599, 0.9082358813149087, 0.05952883092881134], [0.8009771526270936, 0.43968968312847434, 0.9459339536074419], [0.20084669398798272, 0.46143108092874974, 0.5683061522831553], [0.5098304766957351, 0.7950514533712262, 0.8878355783966726], [0.5105567515461197, 0.8071310907385817, 0.7599826556420483], [0.5728237298049853, 0.5339356967567492, 0.17128683963676483], [0.9300029985168561, 0.5840705958226796, 0.8840009867554713], [0.8377823442329175, 0.8774563103492218, 0.4483516526679504], [0.015347591724580223, 0.1175315746923532, 0.8798436547083809], [0.09341234002039234, 0.9653562069470736, 0.48656638532310903], [0.614630786364406, 0.0777845522838353, 0.45496951459543145], [0.09750113775972002, 0.21631262077899094, 0.15318802458784953], [0.019413562846819943, 0.06281658595893613, 0.7161221732288703], [0.7784395130626351, 0.5368778099369509, 0.6373947152836453], [0.33242919021952844, 0.31166520021203825, 0.42209880218871576], [0.34880918541827666, 0.15655547464060038, 0.49312396757219334], [0.005735754210732247, 0.9385810973501157, 0.6999744496345581], [0.3007983700995953, 0.19207533518630626, 0.4525002420330154], [0.16504297754906117, 0.41018172237302164, 0.563975517369469], [0.9272419207135312, 0.715362017186893, 0.7064315998565918], [0.49237803937991553, 0.8184185780516788, 0.1904170639663978], [0.5990092701470894, 0.8852782514842124, 0.2008088732813489], [0.603854022396421, 0.9146551585366453, 0.7998693777853205], [0.5654325928408162, 0.41817258504109356, 0.0800463627704886], [0.3698894984586958, 0.3441759575677362, 0.2621879912309799], [0.46512899152393805, 0.6747568833937801, 0.0443106996262318], [0.2460280460319838, 0.9360093746411886, 0.6828815170171957], [0.7173509829077507, 0.7455747140855641, 0.5508435883701952], [0.47731365554012084, 0.9204994990757411, 0.44775586374470955], [0.23274924941238473, 0.6858473836933163, 0.7697530181390523], [0.14470124133946338, 0.3129130089481106, 0.0807234777286231], [0.4857171616972963, 0.719639689538596, 0.6136402164113097], [0.2026997894360697, 0.9664063316174004, 0.20295353143683148], [0.7065689311128739, 0.14314987969261295, 0.10186502288368005], [0.3677964635001708, 0.11112254640000274, 0.521467944561975], [0.41147258542808274, 0.9341578003913795, 0.023593608469091754], [0.8609098308252171, 0.6667962918880973, 0.37855106915331016], [0.5869090697638625, 0.6646574689629299, 0.6302737567223157], [0.8056376662527138, 0.4030202407168362, 0.7833679969702071], [0.676501494150581, 0.3082880339499374, 0.24580181984207994], [0.33812760796914154, 0.8073691716188717, 0.9950819625362608], [0.6278680674618597, 0.7474924665932401, 0.44202955010533007], [0.6909280806015691, 0.9107559329234817, 0.8066885447307033], [0.8175403459519285, 0.3546013244679579, 0.6490626755562047], [0.1319309517433549, 0.6472787524467056, 0.20231829018163183], [0.21836402004762911, 0.3518612825747053, 0.36323406095890665], [0.4335179696412217, 0.22243333092116935, 0.6528176039561363], [0.8093227808043654, 0.9570670251601516, 0.6135098052963011], [0.30161925819349233, 0.02898556321915502, 0.837359667685102], [0.8354499201223983, 0.7489986516999825, 0.29656110382171574], [0.3470975884680514, 0.9903067112880674, 0.6201177563696695], [0.3266380063975223, 0.8909659529975495, 0.3803253681590064], [0.45339713622633526, 0.4504492595084406, 0.044863981875734815], [0.0886305024809323, 0.3908098312423858, 0.2963200210801399], [0.8532532921953031, 0.6122194420467002, 0.28959707413762514], [0.3917062931645451, 0.41896536628813996, 0.22444801999231356], [0.510719720237278, 0.35255817198780914, 0.7220506767294361], [0.8683510995508654, 0.764825235735412, 0.7812203767252485], [0.9701321165801479, 0.5183544690952971, 0.9811207399922957], [0.9743705962202813, 0.5733027315381751, 0.7461921540069549], [0.17693368489937122, 0.9171327285287758, 0.6748048978395399], [0.49737991598278775, 0.5713109160398501, 0.7890041148499117], [0.17194027121118394, 0.36279306030497915, 0.20515875304045506], [0.7452394249257659, 0.8046677409795209, 0.802151776962711], [0.43647363653647175, 0.8995260373642849, 0.5003739481870287], [0.9912879078604206, 0.6437216388427894, 0.5525537660562077], [0.9898838970965048, 0.5794326994189505, 0.5212455955451971], [0.060179934977310556, 0.15900857575241223, 0.8527556322818856], [0.7005815779934329, 0.6129494609899477, 0.16597416514925822], [0.4082209079979434, 0.3991500046371562, 0.7214434330637012], [0.11363912031069734, 0.06581723334150391, 0.09313978748295115], [0.4049504427688376, 0.9150114200947039, 0.2984832636465553], [0.6471668635257233, 0.5539099199270144, 0.50227616860712], [0.7045520847673303, 0.8443595042101517, 0.8248871489587352], [0.26176550442429714, 0.5920914377073271, 0.6934114341543847], [0.7705908286573588, 0.6210094856476546, 0.07279863364594596], [0.6289864908051601, 0.12903991914825852, 0.8796874288581029], [0.35139880859731787, 0.6073094775973655, 0.6080349927334101], [0.5526436091580238, 0.8026880772273599, 0.516091434149111], [0.8673207090896916, 0.7622372039233705, 0.612631416153713], [0.7841176290295132, 0.06956988010493736, 0.4695074119215573], [0.512478178141759, 0.7688322489656912, 0.26583561703395353], [0.3303892046223753, 0.8713157032335127, 0.7009718355149804], [0.611113833115856, 0.5909916921308342, 0.5159999957487288], [0.3585709275705401, 0.2032252149617908, 0.24363267939989308], [0.5330674717873267, 0.04198185518376085, 0.8189695127614215], [0.4574735603514166, 0.2564307699612307, 0.7429565268294641], [0.6970319489239509, 0.30192060357150485, 0.18970573042801786], [0.7905484170965293, 0.9518330274733693, 0.035310845592455564]]}
    var types = ["value", "value", "value"]
    var columns = {"Y": "var2", "X": "var1", "Z": "var3"}

    var myChart = echarts.init(myChart); 

    var symbolSize = 5;
    option = {
        grid3D: {},
        xAxis3D: {
            type: types[0]
        },
        legend:{data:[]},
        yAxis3D: {
            type: types[1]
        },
        zAxis3D: {
            type: types[2]
        },
        dataset: [],
        series: [
        ]
    };
    
     load()

function load()
    {
        n=0
        legend = []
        for (key in alldata)
        {
            data = {
                    source: alldata[key]
                }

            temp = {   
                name:key,
                type: 'scatter3D',
                symbolSize: symbolSize,
                encode: {
                    x: columns['X'],
                    y: columns['Y'],
                    z: columns['Z'],
                    tooltip: [0, 1, 2, 3]
                },
                datasetIndex :n
            }
            option.dataset.push(data)
            option.series.push(temp)
            legend.push(key)
        n=n+1
        }
        option.legend.data = legend
        myChart.setOption(option);
    }

    </script>
</body>
</html>