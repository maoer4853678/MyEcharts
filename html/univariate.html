<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>单变量散点图</title>
    <!-- 引入 echarts.js -->
    <script src="../js/echarts.min.js"></script>
    <script src="../js/dataTool.min.js"></script>
    <script src="../js/jquery.js"></script>
</head>
<body >
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <select id="variates" onchange="Change(this)" > </select>
    <input  id = "trackBar" type="range" min="0" max="50" value="10" onchange="ChangeSym() " />
    <div id="main" style="width: 1500px;height:470px;"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例

    var myChart = document.getElementById('main');
    if (window.innerWidth>50) 
    {
        if (window.innerHeight>50) 
        {
            myChart.style.width = window.innerWidth-30+'px';
            myChart.style.height = window.innerHeight-30+'px';
        }	
    }
    var alldata = {"var1": {"A": [[0.9200252625785766, 0.04457257986234153], [0.0967614937836514, 0.14987334697033583], [0.9736735514770835, 0.007693174172260342], [0.7615099978699406, 0.17876717641376716], [0.2881506193975317, 0.33139620019934846], [0.09958771665521149, 0.5984648435462718], [0.001933117272978957, 0.49623866163673935], [0.8122690323256386, 0.12481760493600103], [0.13576711954401033, 0.5500176575215726], [0.6290869961151243, 0.5032192410468468], [0.8168731567433236, 0.3669354707686381], [0.2635598202727525, 0.4477190829510098], [0.7383101335772471, 0.5829810842115882], [0.31450636847560587, 0.39543277112333775], [0.029437445462721645, 0.1155192987798056], [0.3214938488132033, 0.13795500925602577], [0.14189737573169658, 0.18583731912135237], [0.8558465005472018, 0.24211527688455903], [0.18547103576754043, 0.1438498172546505], [0.8762512648234881, 0.06234820871412694], [0.16147397086662751, 0.5423842926989638], [0.8603944726777043, 0.2893432710333186], [0.8549153478428135, 0.9724082196953745], [0.542064563769993, 0.718556285291107], [0.6062728929724054, 0.27719351448358986]], "B": [[0.34463961535065624, 0.946627073157169], [0.5629869483546452, 0.793842225982017], [0.5730319007986294, 0.37319340766314213], [0.06757649009704525, 0.821268979115868], [0.35613444646368486, 0.31503361377117356], [0.7769856716937567, 0.8904055307649115], [0.46350303664261794, 0.630457440154993], [0.719420794853291, 0.46588656568543707], [0.9396358377602102, 0.5606177090576074], [0.5712434324172018, 0.8415000624387802], [0.6542184355816183, 0.6648887736788793], [0.13345741355402374, 0.8482617040357256], [0.5731868693488051, 0.8125437856249766], [0.6005443016827829, 0.6814916222901979], [0.4121688557672669, 0.2885232605242888], [0.3545097621771539, 0.3354697967087552], [0.12456907423122243, 0.2027385620468034], [0.9096463242434009, 0.22887071729625375], [0.4391548523747817, 0.1155007232609313], [0.8415943338993621, 0.29511997290321923], [0.7843265015414725, 0.38021719398012144], [0.17653198539584336, 0.7559415749044679], [0.9665342027594576, 0.9379224963498397], [0.9056799981658975, 0.843397084207968], [0.6473286757026309, 0.8859321090156392]]}, "var3": {"A": [[0.4099484346712854, 0.04457257986234153], [0.5931156789536891, 0.14987334697033583], [0.6630588108420621, 0.007693174172260342], [0.34260172718298076, 0.17876717641376716], [0.2726372948404361, 0.33139620019934846], [0.9957058186140815, 0.5984648435462718], [0.08071396554446675, 0.49623866163673935], [0.9873842450676161, 0.12481760493600103], [0.5585234408593518, 0.5500176575215726], [0.9741405754649367, 0.5032192410468468], [0.9165431876582911, 0.3669354707686381], [0.26521632753629487, 0.4477190829510098], [0.6932605712438398, 0.5829810842115882], [0.5545956293635155, 0.39543277112333775], [0.19798757641083897, 0.1155192987798056], [0.23897166547974713, 0.13795500925602577], [0.6971874341166885, 0.18583731912135237], [0.37660366446809823, 0.24211527688455903], [0.47843724343445837, 0.1438498172546505], [0.5015575558772859, 0.06234820871412694], [0.47474327715748676, 0.5423842926989638], [0.4216837549395349, 0.2893432710333186], [0.8455683171601595, 0.9724082196953745], [0.7375626043669128, 0.718556285291107], [0.2805285450568541, 0.27719351448358986]], "B": [[0.17479945879127468, 0.946627073157169], [0.7541042106120183, 0.793842225982017], [0.5490126738476736, 0.37319340766314213], [0.19475482301634894, 0.821268979115868], [0.6795202382639003, 0.31503361377117356], [0.30076687284367964, 0.8904055307649115], [0.0761030582857587, 0.630457440154993], [0.0264501271438895, 0.46588656568543707], [0.8650751807726893, 0.5606177090576074], [0.9078765465806468, 0.8415000624387802], [0.7342551252824405, 0.6648887736788793], [0.9062859404861064, 0.8482617040357256], [0.12121954174258465, 0.8125437856249766], [0.21279428092360742, 0.6814916222901979], [0.41069154286749887, 0.2885232605242888], [0.18116708817389027, 0.3354697967087552], [0.9842781531034294, 0.2027385620468034], [0.9374451381139672, 0.22887071729625375], [0.2789064360875456, 0.1155007232609313], [0.4865187748423184, 0.29511997290321923], [0.07809314232710995, 0.38021719398012144], [0.13334795139467337, 0.7559415749044679], [0.2780924411496063, 0.9379224963498397], [0.03404192987267407, 0.843397084207968], [0.9064935920364207, 0.8859321090156392]]}, "var2": {"A": [[0.4845332123205909, 0.04457257986234153], [0.8907813815379335, 0.14987334697033583], [0.0850026352246126, 0.007693174172260342], [0.058696909696560606, 0.17876717641376716], [0.2725904577311239, 0.33139620019934846], [0.5078944589930235, 0.5984648435462718], [0.10739849347555608, 0.49623866163673935], [0.008185779800987891, 0.12481760493600103], [0.9059284976235715, 0.5500176575215726], [0.19014061929373727, 0.5032192410468468], [0.6928200321700777, 0.3669354707686381], [0.48997791478935093, 0.4477190829510098], [0.22355394610022516, 0.5829810842115882], [0.19886539032138972, 0.39543277112333775], [0.9447750188254631, 0.1155192987798056], [0.8297681262160751, 0.13795500925602577], [0.8790621196593753, 0.18583731912135237], [0.7124428655195499, 0.24211527688455903], [0.07777888879486983, 0.1438498172546505], [0.7598197582860449, 0.06234820871412694], [0.11138395092743991, 0.5423842926989638], [0.02993292156198546, 0.2893432710333186], [0.210191269395808, 0.9724082196953745], [0.5495942019700641, 0.718556285291107], [0.7065206720548489, 0.27719351448358986]], "B": [[0.6579655242224745, 0.946627073157169], [0.7363340190361469, 0.793842225982017], [0.7312599837914393, 0.37319340766314213], [0.4260041945527926, 0.821268979115868], [0.4923842751357108, 0.31503361377117356], [0.4756243851983899, 0.8904055307649115], [0.3472010372198743, 0.630457440154993], [0.47232963990322385, 0.46588656568543707], [0.38410781296481367, 0.5606177090576074], [0.31428403610898326, 0.8415000624387802], [0.2298536791996565, 0.6648887736788793], [0.10567389920734571, 0.8482617040357256], [0.886502508605201, 0.8125437856249766], [0.564075168423147, 0.6814916222901979], [0.9528260629534918, 0.2885232605242888], [0.20540143024561952, 0.3354697967087552], [0.21853879142190535, 0.2027385620468034], [0.583710874252117, 0.22887071729625375], [0.6184215054310128, 0.1155007232609313], [0.4122783046689561, 0.29511997290321923], [0.24505188476576922, 0.38021719398012144], [0.8311827551588256, 0.7559415749044679], [0.677381841137722, 0.9379224963498397], [0.7522718993397919, 0.843397084207968], [0.08504518143138406, 0.8859321090156392]]}}
    var columns = ["var1", "var2", "var3"]
    var myChart = echarts.init(myChart); 
    var data = dataTool.prepareBoxplotData(alldata);
    
option = {
    title: [
        {
            text: '',
            left: 'left',
        }
    ],
    tooltip: {
        trigger: 'item',
        axisPointer: {
            type: 'shadow'
        }
    },
    toolbox: {
            show : true,
            feature : {
                mark : {show: true},
                dataView : {show: true, readOnly: false},
                restore : {show: true},
                saveAsImage : {show: true}
            }
        },
    legend:
    {
        data:[]
    },
    dataZoom: [
        {
            type: 'slider',
            xAxisIndex: 0,
            filterMode: 'empty'
        },
        {
            type: 'slider',
            yAxisIndex: 0,
            filterMode: 'empty'
        },
    ],
    xAxis: {
        type: 'value',
        scale: true,
    },
    yAxis: {
        type: 'value',
        scale: true,
    },
    series: []
};
    load()

    function load()
    {
        var objSelect = document.getElementById("variates");
        for (var i=0;i<columns.length;i++) {
          objSelect.options.add(new Option(columns[i],columns[i]));
        }
        Change(objSelect)
    }

    function Change(selectObj)
    {
        var  variate= $(selectObj).val();
        data = alldata[variate]
        legend = []
        series = []
        var value = parseFloat($("#trackBar").val());
        for (key in data)
        {
            legend.push(key)
            temp = {
                name:'',
                type: 'scatter',
                data:[],
                symbolSize:value
                }
            temp.name = key
            temp.data = data[key]
            series.push(temp)
        }
        option.legend.data = legend
        option.series = series
        option.title[0].text = variate
        myChart.setOption(option);
    }

    function ChangeSym(){
        //获取信息
        var value = parseFloat($("#trackBar").val());
        for (var i=0;i<option.series.length;i++) {
            option.series[i].symbolSize = value
        }
        myChart.setOption(option);
        //将信息显示
    }

    </script>
</body>
</html>