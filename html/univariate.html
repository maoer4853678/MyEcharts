<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>单变量散点图</title>
    <!-- 引入 echarts.js -->
    <script src="../js/echarts.min.js"></script>
    <script src="../js/dataTool.min.js"></script>
    <script src="../js/jquery.js"></script>
</head>
<body >
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <select id="variates" onchange="Change(this)" > </select>
    <input  id = "trackBar" type="range" min="0" max="50" value="10" onchange="ChangeSym() " />
    <div id="main" style="width: 1500px;height:470px;"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例

    var myChart = document.getElementById('main');
    if (window.innerWidth>50) 
    {
        if (window.innerHeight>50) 
        {
            myChart.style.width = window.innerWidth-30+'px';
            myChart.style.height = window.innerHeight-30+'px';
        }	
    }
    var alldata = {"var1": {"A": [[0.5597291416204893, 0.43197647341592205], [0.8185256127302282, 0.970955706289037], [0.5934316540193477, 0.5410840608563829], [0.71651587076473, 0.3319742700112026], [0.3746390442251266, 0.17627990295836438], [0.5935779890282691, 0.28173048709614945], [0.45394634605384665, 0.7949493513216249], [0.2751326683783377, 0.17495378720968346], [0.4884939262938459, 0.09430411600080246], [0.5543055706337963, 0.279882119613601], [0.6429739937399803, 0.46555758112191015], [0.5362368145703227, 0.36246699639407], [0.2833025929382945, 0.4157856736834781], [0.26370581484111, 0.2683487952781928], [0.2147568929016167, 0.8369445272843331], [0.1473352078440594, 0.032757723651917314], [0.8991990070942294, 0.7316363448947618], [0.9077115905062199, 0.5155228215023636], [0.6292447352748387, 0.6573115079062538], [0.05272359038542995, 0.3809234778419237], [0.18468485422630276, 0.9661831027603703], [0.8705078561855885, 0.644715621032111], [0.33398962189823955, 0.5150730470577541], [0.3262946545699015, 0.09468732800946877], [0.43815890885512654, 0.6161720162402214]], "B": [[0.8441502023272806, 0.82020493115533], [0.10035545295712933, 0.11650659649233164], [0.41528840992902993, 0.9023062300627473], [0.1535647090807466, 0.2480514377207902], [0.41401779740348266, 0.5626475940023915], [0.4506343868445323, 0.6262052615213389], [0.5760102826475809, 0.14608447980292028], [0.3124611301333643, 0.377247932038011], [0.10556092575063492, 0.26789422951003994], [0.12328561253109871, 0.9916156713426126], [0.7822387156346274, 0.6981080154464617], [0.6771649561952199, 0.45652493919710646], [0.5501698147330012, 0.9437625318475497], [0.848930993904644, 0.3955501210626894], [0.5259739235110754, 0.42543938966745753], [0.6255233382781, 0.4722862171846045], [0.4209573326494769, 0.5650334346313605], [0.9551803139227809, 0.05737788641954911], [0.06825217783777282, 0.28687978533047787], [0.018341713999106224, 0.5758092017288642], [0.42376201338259967, 0.686863122277619], [0.8249790243395857, 0.883162142783512], [0.598782920314772, 0.03295658779183219], [0.38257351147835805, 0.5580726610225677], [0.25253173289925734, 0.3691500503504368]]}, "var3": {"A": [[0.12525639282842316, 0.43197647341592205], [0.5174356143276547, 0.970955706289037], [0.2184451100963415, 0.5410840608563829], [0.3949471871744552, 0.3319742700112026], [0.4690848272654913, 0.17627990295836438], [0.44443895430797986, 0.28173048709614945], [0.15681310882504784, 0.7949493513216249], [0.6638689896081141, 0.17495378720968346], [0.8115238463556271, 0.09430411600080246], [0.10523207495728104, 0.279882119613601], [0.1669979273997907, 0.46555758112191015], [0.2890608567740143, 0.36246699639407], [0.18530135072874832, 0.4157856736834781], [0.3308920824277024, 0.2683487952781928], [0.7377590969771409, 0.8369445272843331], [0.8796532754402835, 0.032757723651917314], [0.6212083158262552, 0.7316363448947618], [0.165951597207172, 0.5155228215023636], [0.021504787629518907, 0.6573115079062538], [0.5808249231297123, 0.3809234778419237], [0.8089101845267642, 0.9661831027603703], [0.3745084682000157, 0.644715621032111], [0.999285013551355, 0.5150730470577541], [0.35752306429138003, 0.09468732800946877], [0.3009840215979481, 0.6161720162402214]], "B": [[0.03568530686276128, 0.82020493115533], [0.7936991700146233, 0.11650659649233164], [0.9160550965814416, 0.9023062300627473], [0.17326176832599582, 0.2480514377207902], [0.8354002000191305, 0.5626475940023915], [0.3437319597394304, 0.6262052615213389], [0.7261642512327592, 0.14608447980292028], [0.012642319951012948, 0.377247932038011], [0.838215509032999, 0.26789422951003994], [0.11108990353159753, 0.9916156713426126], [0.2688720072118831, 0.6981080154464617], [0.673823142540139, 0.45652493919710646], [0.6009484792916772, 0.9437625318475497], [0.6632004292345488, 0.3955501210626894], [0.9934040088271312, 0.42543938966745753], [0.7414575924041681, 0.4722862171846045], [0.8583768995889941, 0.5650334346313605], [0.9665587185876988, 0.05737788641954911], [0.6274671267333247, 0.28687978533047787], [0.6519292843942013, 0.5758092017288642], [0.6129107276024315, 0.686863122277619], [0.08000365554035038, 0.883162142783512], [0.42290363134080144, 0.03295658779183219], [0.3568249215388082, 0.5580726610225677], [0.9982748815249015, 0.3691500503504368]]}, "var2": {"A": [[0.22492329001993727, 0.43197647341592205], [0.8584996923382261, 0.970955706289037], [0.3100166192783598, 0.5410840608563829], [0.6417473647918209, 0.3319742700112026], [0.6227014464613084, 0.17627990295836438], [0.980798326475536, 0.28173048709614945], [0.8054706781253328, 0.7949493513216249], [0.3347975517216044, 0.17495378720968346], [0.7411322324049074, 0.09430411600080246], [0.23491366471574926, 0.279882119613601], [0.06609346593689269, 0.46555758112191015], [0.933382580261178, 0.36246699639407], [0.1020943647972643, 0.4157856736834781], [0.6045737504266744, 0.2683487952781928], [0.001301013848380883, 0.8369445272843331], [0.9884888904826143, 0.032757723651917314], [0.06276704649793874, 0.7316363448947618], [0.07859250132881535, 0.5155228215023636], [0.46385369011233757, 0.6573115079062538], [0.7635788198348664, 0.3809234778419237], [0.5885724088715936, 0.9661831027603703], [0.31966609432185733, 0.644715621032111], [0.26288320469287685, 0.5150730470577541], [0.944652443121408, 0.09468732800946877], [0.21542645151167206, 0.6161720162402214]], "B": [[0.15616355607993626, 0.82020493115533], [0.9215307554689242, 0.11650659649233164], [0.6824131004139743, 0.9023062300627473], [0.9013857572318233, 0.2480514377207902], [0.42282074033164907, 0.5626475940023915], [0.12371490244498318, 0.6262052615213389], [0.2772436679320289, 0.14608447980292028], [0.36394984570655475, 0.377247932038011], [0.060130517567728914, 0.26789422951003994], [0.33697851252165345, 0.9916156713426126], [0.4154131239461123, 0.6981080154464617], [0.24185510617018013, 0.45652493919710646], [0.7548095350610775, 0.9437625318475497], [0.9146334027430072, 0.3955501210626894], [0.7980314806460856, 0.42543938966745753], [0.01613431798977627, 0.4722862171846045], [0.20428335634459505, 0.5650334346313605], [0.501774236586078, 0.05737788641954911], [0.9879896691385024, 0.28687978533047787], [0.341506196688386, 0.5758092017288642], [0.4103106399445833, 0.686863122277619], [0.6099482475106562, 0.883162142783512], [0.10143716278614123, 0.03295658779183219], [0.6553871918565325, 0.5580726610225677], [0.8139818297782405, 0.3691500503504368]]}}
    var columns = ["var1", "var2", "var3"]
    var myChart = echarts.init(myChart); 
    var data = dataTool.prepareBoxplotData(alldata);
    
option = {
    title: [
        {
            text: '',
            left: 'left',
        }
    ],
    tooltip: {
        trigger: 'item',
        axisPointer: {
            type: 'shadow'
        }
    },
    toolbox: {
            show : true,
            feature : {
                mark : {show: true},
                dataView : {show: true, readOnly: false},
                restore : {show: true},
                saveAsImage : {show: true}
            }
        },
    legend:
    {
        data:[]
    },
    dataZoom: [
        {
            type: 'slider',
            xAxisIndex: 0,
            filterMode: 'empty'
        },
        {
            type: 'slider',
            yAxisIndex: 0,
            filterMode: 'empty'
        },
    ],
    xAxis: {
        type: 'value',
    },
    yAxis: {
        type: 'value',
    },
    series: []
};
    load()

    function load()
    {
        var objSelect = document.getElementById("variates");
        for (var i=0;i<columns.length;i++) {
          objSelect.options.add(new Option(columns[i],columns[i]));
        }
        Change(objSelect)
    }

    function Change(selectObj)
    {
        var  variate= $(selectObj).val();
        data = alldata[variate]
        legend = []
        series = []
        var value = parseFloat($("#trackBar").val());
        for (key in data)
        {
            legend.push(key)
            temp = {
                name:'',
                type: 'scatter',
                data:[],
                symbolSize:value
                }
            temp.name = key
            temp.data = data[key]
            series.push(temp)
        }
        option.legend.data = legend
        option.series = series
        option.title[0].text = variate
        myChart.setOption(option);
    }

    function ChangeSym(){
        //获取信息
        var value = parseFloat($("#trackBar").val());
        for (var i=0;i<option.series.length;i++) {
            option.series[i].symbolSize = value
        }
        myChart.setOption(option);
        //将信息显示
    }

    </script>
</body>
</html>