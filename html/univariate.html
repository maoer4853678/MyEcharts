<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>单变量散点图</title>
    <!-- 引入 echarts.js -->
    <script src="../js/echarts.min.js"></script>
    <script src="../js/dataTool.min.js"></script>
    <script src="../js/jquery.js"></script>
</head>
<body >
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <select id="variates" onchange="Change(this)" > </select>
    <input  id = "trackBar" type="range" min="0" max="50" value="10" onchange="ChangeSym() " />
    <div id="main" style="width: 1500px;height:470px;"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例

    var myChart = document.getElementById('main');
    if (window.innerWidth>50) 
    {
        if (window.innerHeight>50) 
        {
            myChart.style.width = window.innerWidth-30+'px';
            myChart.style.height = window.innerHeight-30+'px';
        }	
    }
    var alldata = {"var1": {"A": [[0.16861684405849697, 0.7042727623989684], [0.854926825677319, 0.45268449103700137], [0.11731553031491615, 0.8301063191265343], [0.0475183838572365, 0.5591173025545471], [0.25368485515741, 0.9052913027166867], [0.6839976152735897, 0.4024074720063472], [0.6063207399166499, 0.06452056527598948], [0.3285201502927536, 0.8710466331187308], [0.19149821798097189, 0.36886782565897724], [0.8192225306645239, 0.43610016718460465], [0.15279768430980567, 0.24119086695019853], [0.28345483096678814, 0.1474286480719954], [0.7458471333044919, 0.7662028538436912], [0.18867070273232822, 0.1311313737525981], [0.15157780354742534, 0.9512106530243476], [0.9864982088622403, 0.7748297692303233], [0.5614652838408416, 0.6613049616250549], [0.7444280057953427, 0.36754340145592534], [0.7116212291617517, 0.41507927036657943], [0.6992544642956181, 0.5654719694601159], [0.6672538875430992, 0.5858001002611078], [0.18776018141185724, 0.5108894236307515], [0.25248438754883396, 0.5868550695972574], [0.022281822228678805, 0.7281644128847534], [0.49780070623470785, 0.6577674124643803]], "B": [[0.4952172168618503, 0.03458351594569542], [0.6155642334702622, 0.3589439681182801], [0.06533941371320862, 0.5645055637280434], [0.9931229916085476, 0.14992480506389727], [0.013837184406352732, 0.2325270827962349], [0.6955327426149529, 0.9833522672886786], [0.24315789086297768, 0.7495845454070543], [0.4675370096011693, 0.31016943064068425], [0.916840554696972, 0.4579634836627745], [0.6118748991348493, 0.8612003024914899], [0.20097904110442866, 0.5016227819383949], [0.48095091526865463, 0.9892459021553426], [0.4417391396159914, 0.7608184950331965], [0.46618122291756703, 0.12502197900717604], [0.4716742167289151, 0.7154542368611756], [0.5985181493409976, 0.979699843424463], [0.6299807241673648, 0.09151609159250151], [0.24508402130086493, 0.5522758738156384], [0.05789237653120605, 0.4284361682782133], [0.3695048223997177, 0.2558951103861732], [0.36198819177394914, 0.7430455373016146], [0.714134177840513, 0.9051940484997109], [0.2929653368146786, 0.41290038414288965], [0.641858917749277, 0.3973045888836786], [0.3610320683586097, 0.2475818458906287]]}, "var3": {"A": [[0.33066786121296354, 0.7042727623989684], [0.475664430592336, 0.45268449103700137], [0.2578355663356916, 0.8301063191265343], [0.8257738645651789, 0.5591173025545471], [0.7702660370567626, 0.9052913027166867], [0.455147435039452, 0.4024074720063472], [0.019901076375071325, 0.06452056527598948], [0.10317891922033595, 0.8710466331187308], [0.7418242699930372, 0.36886782565897724], [0.36453608181869923, 0.43610016718460465], [0.7460570324287525, 0.24119086695019853], [0.6644129262847612, 0.1474286480719954], [0.33679668776413163, 0.7662028538436912], [0.7136266581338939, 0.1311313737525981], [0.2433723996547036, 0.9512106530243476], [0.5394613230957448, 0.7748297692303233], [0.4824972364681519, 0.6613049616250549], [0.33265984374074786, 0.36754340145592534], [0.3005426417159205, 0.41507927036657943], [0.5064399032302288, 0.5654719694601159], [0.839327821501579, 0.5858001002611078], [0.3939061543778156, 0.5108894236307515], [0.9423315023950252, 0.5868550695972574], [0.044394542581735696, 0.7281644128847534], [0.4402037718645013, 0.6577674124643803]], "B": [[0.11814735550213185, 0.03458351594569542], [0.8120105173397666, 0.3589439681182801], [0.9442013357252848, 0.5645055637280434], [0.9076740934682029, 0.14992480506389727], [0.3966773797391102, 0.2325270827962349], [0.22289975899555592, 0.9833522672886786], [0.3231964450084004, 0.7495845454070543], [0.17022317234336093, 0.31016943064068425], [0.7822375877538914, 0.4579634836627745], [0.32812442830788124, 0.8612003024914899], [0.9508562901845324, 0.5016227819383949], [0.45265119597043313, 0.9892459021553426], [0.04811807797796652, 0.7608184950331965], [0.930379282055398, 0.12502197900717604], [0.3692228081518757, 0.7154542368611756], [0.7932194383783832, 0.979699843424463], [0.8664879452858035, 0.09151609159250151], [0.679828661172721, 0.5522758738156384], [0.11031624784314398, 0.4284361682782133], [0.282314767449493, 0.2558951103861732], [0.1864936948670104, 0.7430455373016146], [0.25744652327375694, 0.9051940484997109], [0.4121635205070121, 0.41290038414288965], [0.7239196601658988, 0.3973045888836786], [0.3470270209285993, 0.2475818458906287]]}, "var2": {"A": [[0.7844905145447227, 0.7042727623989684], [0.05651655247428422, 0.45268449103700137], [0.9689449719204699, 0.8301063191265343], [0.07306951836951536, 0.5591173025545471], [0.7689504389422984, 0.9052913027166867], [0.906444540918689, 0.4024074720063472], [0.015023830209961009, 0.06452056527598948], [0.2611256057138748, 0.8710466331187308], [0.8486020209724878, 0.36886782565897724], [0.1988375343137876, 0.43610016718460465], [0.6612919450814391, 0.24119086695019853], [0.5787154517902751, 0.1474286480719954], [0.1225765130910732, 0.7662028538436912], [0.1933068094294701, 0.1311313737525981], [0.44241689995816436, 0.9512106530243476], [0.3863674311896471, 0.7748297692303233], [0.39386516671913785, 0.6613049616250549], [0.47382949516866646, 0.36754340145592534], [0.36916186051333444, 0.41507927036657943], [0.3773945026546155, 0.5654719694601159], [0.4445679767284466, 0.5858001002611078], [0.4567290214664198, 0.5108894236307515], [0.17109105731625007, 0.5868550695972574], [0.43230533313316055, 0.7281644128847534], [0.7924407365145265, 0.6577674124643803]], "B": [[0.4752003932030763, 0.03458351594569542], [0.8700661679022859, 0.3589439681182801], [0.8077013375385644, 0.5645055637280434], [0.5992000020868153, 0.14992480506389727], [0.7510099457530741, 0.2325270827962349], [0.24913923240794578, 0.9833522672886786], [0.10088175409751776, 0.7495845454070543], [0.10451168132709165, 0.31016943064068425], [0.9048475520440057, 0.4579634836627745], [0.7087982973944599, 0.8612003024914899], [0.14811489866035965, 0.5016227819383949], [0.8537873946450086, 0.9892459021553426], [0.37761072837232135, 0.7608184950331965], [0.5277755235483806, 0.12502197900717604], [0.0657055770098488, 0.7154542368611756], [0.18919689331783862, 0.979699843424463], [0.7063087359088043, 0.09151609159250151], [0.892393073802753, 0.5522758738156384], [0.5062567995389202, 0.4284361682782133], [0.46988274385975226, 0.2558951103861732], [0.8580372395768587, 0.7430455373016146], [0.17795792628925722, 0.9051940484997109], [0.26881250095434106, 0.41290038414288965], [0.08705390630955823, 0.3973045888836786], [0.048066293992208964, 0.2475818458906287]]}}
    var columns = ["var1", "var2", "var3"]
    var myChart = echarts.init(myChart); 
    var data = dataTool.prepareBoxplotData(alldata);
    
option = {
    title: [
        {
            text: '',
            left: 'right',
        }
    ],
    tooltip: {
        trigger: 'item',
        axisPointer: {
            type: 'shadow'
        }
    },
    legend:
    {
        data:[]
    },
    dataZoom: [
        {
            type: 'slider',
            xAxisIndex: 0,
            filterMode: 'empty'
        },
        {
            type: 'slider',
            yAxisIndex: 0,
            filterMode: 'empty'
        },
    ],
    xAxis: {
        type: 'value',
    },
    yAxis: {
        type: 'value',
    },
    series: []
};
    load()

    function load()
    {
        var objSelect = document.getElementById("variates");
        for (var i=0;i<columns.length;i++) {
          objSelect.options.add(new Option(columns[i],columns[i]));
        }
        Change(objSelect)
    }

    function Change(selectObj)
    {
        var  variate= $(selectObj).val();
        data = alldata[variate]
        legend = []
        series = []
        var value = parseFloat($("#trackBar").val());
        for (key in data)
        {
            legend.push(key)
            temp = {
                name:'',
                type: 'scatter',
                data:[],
                symbolSize:value
                }
            temp.name = key
            temp.data = data[key]
            series.push(temp)
        }
        option.legend.data = legend
        option.series = series
        option.title[0].text = variate
        myChart.setOption(option);
    }

    function ChangeSym(){
        //获取信息
        var value = parseFloat($("#trackBar").val());
        for (var i=0;i<option.series.length;i++) {
            option.series[i].symbolSize = value
        }
        myChart.setOption(option);
        //将信息显示
    }

    </script>
</body>
</html>