<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>时序箱线图</title>
    <!-- 引入 echarts.js -->
    <script src="../js/echarts.min.js"></script>
    <script src="../js/ecStat.js"></script>
    <script src="../js/dataTool.min.js"></script>
</head>
<body >
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="width: 1500px;height:470px;"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例

    var myChart = document.getElementById('main');
    if (window.innerWidth>50) 
    {
        if (window.innerHeight>50) 
        {
            myChart.style.width = window.innerWidth-30+'px';
            myChart.style.height = window.innerHeight-30+'px';
        }	
    }
    var alldata = [[0.5560363917552541, 0.17462703193759221, 0.797244494102214, 0.43801734831754724, 0.33958951072505283, 0.5627636618906282, 0.9789942520293975, 0.589098240082416, 0.6836372000758362, 0.28510719325736145, 0.9547835119668728, 0.2811654310799314, 0.316653766390824, 0.6022133958760963, 0.8666935757560397, 0.47923917331103494, 0.9495407067715519, 0.16006829002781964, 0.9932401341295687, 0.25100124838654203, 0.34837713282338434, 0.7599885478479097, 0.040362169742718446, 0.6710719922482615, 0.8802819269578799, 0.8456391631839881, 0.6116047620516099, 0.605958697113414, 0.8391225618928222, 0.20011197414623805], [0.7485568992222504, 0.14487753007471438, 0.19404291113968708, 0.053192657163030566, 0.7113935736667266, 0.8426303290326208, 0.5741367217656868, 0.9587319606172118, 0.8763676771456271, 0.4443673713215004, 0.24894882460905288, 0.6914724163256276, 0.33165286686139983, 0.8072054617323291, 0.012919358568907802, 0.9211239514090609, 0.37220220868162424, 0.38953010539425936, 0.24298979335855775, 0.06374615591463262, 0.04302262732467199, 0.9615219432673177, 0.9432467285065231, 0.8956230381408308, 0.6703832127466225, 0.35459891081403405, 0.4879908017429625, 0.5428667997052574], [0.5398551794166864, 0.2286804240065179, 0.25741697899637683, 0.9534494306263024, 0.757558940592658, 0.8200524075899633, 0.823027242110284, 0.304387272270807, 0.4301243900496716, 0.8418272312212183, 0.5040253358128323, 0.4356882152796524]]
    var xAxis = ["1", "2", "3"]
    var lines = [0.5956558179792562, 0.5154288007241099, 0.5219402576147594]
    var myChart = echarts.init(myChart); 
    var data = dataTool.prepareBoxplotData(alldata);
    
option = {
    title: [
        {
            text: '时序箱线图',
            left: 'left',
        }
    ],
    tooltip: {
        trigger: 'item',
        axisPointer: {
            type: 'shadow'
        }
    },
    toolbox: {
            show : true,
            feature : {
                mark : {show: true},
                dataView : {show: true, readOnly: false},
                restore : {show: true},
                saveAsImage : {show: true}
            }
        },
    legend:
    {
    	data:['box',"outlier",'median']
    },
    dataZoom: [
        {
            type: 'slider',
            xAxisIndex: 0,
            filterMode: 'empty'
        },
        {
            type: 'slider',
            yAxisIndex: 0,
            filterMode: 'empty'
        },
    ],
    xAxis: {
        type: 'category',
        data: xAxis,
        boundaryGap: true,
        nameGap: 30,
        splitArea: {
            show: false
        },
        splitLine: {
            show: false
        }
    },
    yAxis: {
        type: 'value',
        splitArea: {
            show: true
        }
    },
    series: [
        {
            name: 'box',
            type: 'boxplot',
            data: data.boxData,
            tooltip: {
                formatter: function (param) {
                    return [
                        '日期' + param.name + ': ',
                        '上界: ' + param.data[5],
                        '三分位: ' + param.data[4],
                        '中位数: ' + param.data[3],
                        '一分位: ' + param.data[2],
                        '下界: ' + param.data[1]
                    ].join('<br/>');
                }
            }
        },
        {
            name: 'outlier',
            type: 'scatter',
            data: data.outliers
        },
        {
        	name:"median",
        	type:"line",
        	data: lines
        }
    ]
};
		myChart.setOption(option);

        // 使用刚指定的配置项和数据显示图表。
        
    </script>
</body>
</html>