<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>箱线图</title>
    <!-- 引入 echarts.js -->
    <script src="../js/echarts.min.js"></script>
    <script src="../js/ecStat.js"></script>
    <script src="../js/dataTool.min.js"></script>
</head>
<body >
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="width: 1500px;height:470px;"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例

    var myChart = document.getElementById('main');
    if (window.innerWidth>50) 
    {
        if (window.innerHeight>50) 
        {
            myChart.style.width = window.innerWidth-30+'px';
            myChart.style.height = window.innerHeight-30+'px';
        }	
    }
    var alldata = [[0.7679362889537084, 0.9729627634445763, 0.5719163527201787, 0.1054230863874549, 0.5604715459978991, 0.49503112468472166, 0.4766087232438292, 0.7836237878441775, 0.7265980852485305, 0.2348312237576462, 0.5208381570673937, 0.9857167144889879, 0.39556579081956356, 0.3543578113393939, 0.8363591037905507, 0.7195052511107906, 0.4002556211900392, 0.9244193104791151, 0.5034114897230205, 0.7813062611378832, 0.7423231194954237, 0.18988986718933165, 0.16663061507904442, 0.8040052336110706, 0.17737713757363593, 0.32570045631585953, 0.34294527640268946, 0.6136743566082331, 0.5527361314065992, 0.4468061792795718, 0.027333271965888084, 0.69756666508019, 0.36700905841629894, 0.8023940994047637, 0.5678648473827488, 0.5029677955645314, 0.9864544207732245, 0.5135265512116468, 0.8458748147161664, 0.8396793549744292, 0.6068546804360986, 0.27322116965266163, 0.6625440409572193, 0.8256634373656145, 0.3770890290789204, 0.6412142863042747, 0.8528785032864266, 0.791756151224769, 0.5299882519889203, 0.39784645573468636], [0.5890479728135708, 0.2903229931103515, 0.30417839069937735, 0.061666202678524296, 0.09697761368459001, 0.844759880361784, 0.17442789443217477, 0.4379229962009489, 0.3491515573044347, 0.7756650699231082, 0.6373650259600819, 0.6252127248673844, 0.4532312404057893, 0.5160760347984925, 0.6752021203347844, 0.7122695320292759, 0.534682729903089, 0.3770939646915449, 0.7257663444021395, 0.020110097264442572, 0.4729494343953081, 0.13883413217915141, 0.785274755097516, 0.6642956669372524, 0.8475895668455611, 0.6957563255004445, 0.011704178562653267, 0.07118719800941498, 0.7596175256008455, 0.6447167623910913, 0.7549021382540188, 0.11396084092583914, 0.38821531058825487, 0.6353260145125016, 0.20793654725160438, 0.1216517473255766, 0.9359379599878227, 0.8749487767000926, 0.8157328147567207, 0.035882150679829916, 0.32686572918051804, 0.22659859406198724, 0.7566316989604034, 0.39788411479761965, 0.6882552220294911, 0.13607498098048532, 0.8123959938030499, 0.9973466055096043, 0.7881802189905889, 0.7702813701345562], [0.5640917655598776, 0.31199938984237363, 0.5867720869052842, 0.045367521693053026, 0.4654246384524183, 0.7211676627956943, 0.9281495865876997, 0.6232807957966431, 0.9855071657668234, 0.8263690944096567, 0.7191613173953192, 0.779466180333264, 0.8136093550490198, 0.520890653958044, 0.7431051389360277, 0.32375344349552737, 0.3726208809035044, 0.21484833632876565, 0.6973245781777916, 0.46987352614743294, 0.334555091163532, 0.8458072548966525, 0.3768506002356814, 0.10685703833437266, 0.7515406839243647, 0.26110793810454913, 0.5706549409967051, 0.7293461254198592, 0.3987795193655962, 0.8386202988954552, 0.3421448285241506, 0.7087596844678715, 0.5978335600899815, 0.6696880838059072, 0.04925417051547587, 0.13527833051524651, 0.46996653243550957, 0.795656735668589, 0.13252033012701037, 0.48985485389586847, 0.7536012470799668, 0.1481771879717214, 0.7155228530859277, 0.8757808657321781, 0.9678932680454463, 0.26164772592511054, 0.3636754768133188, 0.5471605741420796, 0.9478199478281518, 0.8324676032782753]]
    var xAxis = ["var1", "var2", "var4"]
    var myChart = echarts.init(myChart); 
    var data = dataTool.prepareBoxplotData(alldata);
    
option = {
    title: [
        {
            text: '箱线图',
            left: 'left',
        }
    ],
    tooltip: {
        trigger: 'item',
        axisPointer: {
            type: 'shadow'
        }
    },
    legend:
    {
    	data:['box',"outlier"]
    },
    dataZoom: [
        {
            type: 'slider',
            xAxisIndex: 0,
            filterMode: 'empty'
        },
        {
            type: 'slider',
            yAxisIndex: 0,
            filterMode: 'empty'
        },
    ],
    xAxis: {
        type: 'category',
        data: xAxis,
        boundaryGap: true,
        nameGap: 30,
        splitArea: {
            show: false
        },
        splitLine: {
            show: false
        }
    },
    yAxis: {
        type: 'value',
        splitArea: {
            show: true
        }
    },
    series: [
        {
            name: 'box',
            type: 'boxplot',
            data: data.boxData,
            tooltip: {
                formatter: function (param) {
                    return [
                        '日期' + param.name + ': ',
                        '上界: ' + param.data[5],
                        '三分位: ' + param.data[4],
                        '中位数: ' + param.data[3],
                        '一分位: ' + param.data[2],
                        '下界: ' + param.data[1]
                    ].join('<br/>');
                }
            }
        },
        {
            name: 'outlier',
            type: 'scatter',
            data: data.outliers
        }
    ]
};
		myChart.setOption(option);
        
    </script>
</body>
</html>