<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>箱线图</title>
    <!-- 引入 echarts.js -->
    <script src="../js/echarts.min.js"></script>
    <script src="../js/ecStat.js"></script>
    <script src="../js/dataTool.min.js"></script>
</head>
<body >
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="width: 1500px;height:470px;"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例

    var myChart = document.getElementById('main');
    if (window.innerWidth>50) 
    {
        if (window.innerHeight>50) 
        {
            myChart.style.width = window.innerWidth-30+'px';
            myChart.style.height = window.innerHeight-30+'px';
        }	
    }
    var alldata = [[0.24062995692066036, 0.782479820513449, 0.31245428032543743, 0.6703636489101333, 0.5725070127141411, 0.4014061518041102, 0.895319387933436, 0.9907389239613731, 0.3879712599844609, 0.7277378674327241, 0.14859251082402825, 0.052055560258435496, 0.2238100851394338, 0.4319616813761332, 0.7250121529722453, 0.7357879889497045, 0.27499701430474144, 0.9383858895302429, 0.8423087309586588, 0.46191329630932054, 0.39011361717978765, 0.05336479248014714, 0.30235463595110823, 0.9547193175169151, 0.851457104190286, 0.682400291533307, 0.6602001982361021, 0.4149275695651128, 0.6953785184979081, 0.11222368673481375, 0.039612125472818116, 0.3134718062732189, 0.788419084708865, 0.23196804299954432, 0.9004527897615204, 0.15247727916637943, 0.1402757196690776, 0.9827734749076811, 0.18559294034645257, 0.5410794957072702, 0.04592687968149267, 0.6939132642307503, 0.5591254138356514, 0.4393793659177909, 0.6992138661210944, 0.8917145065550991, 0.9804205718103146, 0.36652685613221414, 0.2659667233026076, 0.8793506103717148], [0.9998178710433078, 0.8793507267474332, 0.16710154569976643, 0.8846044186936096, 0.003409050567183436, 0.17381658270966693, 0.32402115693313527, 0.7516985782887646, 0.870022852946925, 0.21864275802172572, 0.49346964477926925, 0.21325464125064308, 0.9284849253752397, 0.2636441991138847, 0.7144290309270593, 0.9349687423515438, 0.43987899189025714, 0.014977205618420308, 0.059039617120783316, 0.1395371077499752, 0.932141710103945, 0.5323487386332487, 0.6626905425477176, 0.16832757493885453, 0.34510362487359436, 0.881410380583755, 0.824964819006245, 0.589341902284373, 0.12023617739053905, 0.20808917372800273, 0.36680375898189654, 0.9638266606799281, 0.8905398631363225, 0.004879704744806812, 0.6382558197441958, 0.5328112634315599, 0.555205132657465, 0.8961530847742, 0.41951139743061105, 0.12539066656657516, 0.6202386916006623, 0.5165542342061241, 0.03878137826946415, 0.9253691270170513, 0.40341802297652263, 0.5052102801687882, 0.809984019993454, 0.6832877106458498, 0.4519474274174452, 0.47366782623039716], [0.5291623328718444, 0.49261756616883934, 0.290501452707852, 0.41120423462795264, 0.05650001608307864, 0.14254108345747007, 0.5322807330670533, 0.7614134015902897, 0.18791327244251543, 0.10462500251951468, 0.8701975640352815, 0.1404846573568812, 0.4057442181252129, 0.6315119030360598, 0.1571437926120498, 0.7190886539651608, 0.07345105007780284, 0.600927602753434, 0.020898120317173197, 0.8614419605004023, 0.6612627262610393, 0.9809701430385251, 0.054170272086425886, 0.19774392895629056, 0.18304244387224788, 0.8033659578793143, 0.9714415327354182, 0.977436072432678, 0.5822130721448588, 0.43814701068291884, 0.6232596486946939, 0.7401978194322001, 0.9073833647339835, 0.0848118071247782, 0.19557550811586988, 0.6890117800066656, 0.26276525754096425, 0.31368513500400275, 0.18564253366967898, 0.8267806644480501, 0.3925630839061005, 0.7309029676152052, 0.754477041612837, 0.5080199189558785, 0.702636323565181, 0.5646273390792841, 0.8731888198122629, 0.10268109256558167, 0.03749697024219356, 0.7867157695996616]]
    var xAxis = ["var1", "var2", "var4"]
    var myChart = echarts.init(myChart); 
    var data = dataTool.prepareBoxplotData(alldata);
    
option = {
    title: [
        {
            text: '箱线图',
            left: 'left',
        }
    ],
    tooltip: {
        trigger: 'item',
        axisPointer: {
            type: 'shadow'
        }
    },
    toolbox: {
            show : true,
            feature : {
                mark : {show: true},
                dataView : {show: true, readOnly: false},
                restore : {show: true},
                saveAsImage : {show: true}
            }
        },
    legend:
    {
    	data:['box',"outlier"]
    },
    dataZoom: [
        {
            type: 'slider',
            xAxisIndex: 0,
            filterMode: 'empty'
        },
        {
            type: 'slider',
            yAxisIndex: 0,
            filterMode: 'empty'
        },
    ],
    xAxis: {
        type: 'category',
        data: xAxis,
        boundaryGap: true,
        nameGap: 30,
        splitArea: {
            show: false
        },
        splitLine: {
            show: false
        }
    },
    yAxis: {
        type: 'value',
        splitArea: {
            show: true
        }
    },
    series: [
        {
            name: 'box',
            type: 'boxplot',
            data: data.boxData,
            tooltip: {
                formatter: function (param) {
                    return [
                        '日期' + param.name + ': ',
                        '上界: ' + param.data[5],
                        '三分位: ' + param.data[4],
                        '中位数: ' + param.data[3],
                        '一分位: ' + param.data[2],
                        '下界: ' + param.data[1]
                    ].join('<br/>');
                }
            }
        },
        {
            name: 'outlier',
            type: 'scatter',
            data: data.outliers
        }
    ]
};
		myChart.setOption(option);
        
    </script>
</body>
</html>