<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>箱线图</title>
    <!-- 引入 echarts.js -->
    <script src="../js/echarts.min.js"></script>
    <script src="../js/ecStat.js"></script>
    <script src="../js/dataTool.min.js"></script>
</head>
<body >
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="width: 1500px;height:470px;"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例

    var myChart = document.getElementById('main');
    if (window.innerWidth>50) 
    {
        if (window.innerHeight>50) 
        {
            myChart.style.width = window.innerWidth-30+'px';
            myChart.style.height = window.innerHeight-30+'px';
        }	
    }
    var alldata = [[0.300978193491392, 0.8825868557062152, 0.27537053047710924, 0.0823293532671483, 0.021033744330583026, 0.4103002451192034, 0.03651584109731154, 0.871117360722695, 0.07360576320678103, 0.5934563846583463, 0.5850199609414961, 0.937459101677041, 0.8142121533755298, 0.008693064432950037, 0.8404944931979508, 0.6602147456114844, 0.4969464323463796, 0.3547682904674173, 0.2971080387575237, 0.2011392543811863, 0.477342076122353, 0.5472297089730435, 0.05614668425661706, 0.6141176443349692, 0.812376130504767, 0.36148725275448024, 0.5801434466333828, 0.5935461912299816, 0.9977196369326264, 0.06167212239658204, 0.3576587729476842, 0.5933855605762305, 0.8889833364317625, 0.9424977594037615, 0.9179602345892122, 0.4846255095488259, 0.47757755672286284, 0.07412445850650051, 0.28849284061173364, 0.8982787841203549, 0.43290162330680104, 0.34270744857174373, 0.6702691063662289, 0.32525508500676703, 0.33914969254073724, 0.28646929734367144, 0.9965135325806039, 0.014260901918190405, 0.7112819239038755, 0.6253540526433924], [0.291332187486264, 0.9651559063883706, 0.707846685832974, 0.5617989608387691, 0.7550577709796009, 0.3696438103119408, 0.2831602259572028, 0.7759793302798794, 0.41264502508457224, 0.4435747896222294, 0.14705091639117862, 0.6738766213037443, 0.046404725164051364, 0.7128385179943826, 0.007237286934299703, 0.013772900394042442, 0.082602030323504, 0.8860974323122868, 0.06362170722634597, 0.21523235571141763, 0.4682194568761876, 0.3037678964683963, 0.8850890801234651, 0.8185459793525277, 0.4450499702371241, 0.7870053939133966, 0.0686721397185095, 0.749378957437923, 0.4657438500476586, 0.8561055802783922, 0.20579662180542935, 0.3480018681471051, 0.6003919039219316, 0.8178753626515212, 0.012157486047735255, 0.8840889201831721, 0.3131429584249331, 0.02840521702892762, 0.3955955682776183, 0.3741666655800675, 0.04094855808639797, 0.6832345018366213, 0.12927216852019874, 0.11250447139396558, 0.05582625377754291, 0.2951580855430179, 0.8764863200506022, 0.9826911501110511, 0.1851648970896821, 0.3426411504582566], [0.26471350910268043, 0.6588715143480947, 0.7502189798266354, 0.983855814891342, 0.4694380403683609, 0.7248072629724223, 0.45748206931695323, 0.1664248253278986, 0.059197497834750035, 0.3103345371802779, 0.8519589683941713, 0.9549394060165102, 0.8826066158222822, 0.6996764774205689, 0.2564199662274764, 0.9613621992655297, 0.23794812068241045, 0.9432055494466562, 0.1039089410956977, 0.22129875540621324, 0.46858133996835327, 0.19700734815661258, 0.37354518488830757, 0.9849151710168351, 0.664414783510109, 0.6590109927659746, 0.17799342907546534, 0.01306897064747048, 0.9589361483831016, 0.515589085188949, 0.2270681205288051, 0.7777117498400463, 0.08549231529190304, 0.3672082832204484, 0.38377718227514424, 0.05488995678961106, 0.7976329005324739, 0.9915099511914288, 0.8935912944575879, 0.4227355506329411, 0.10400632782744668, 0.5959231983789447, 0.2746277605831038, 0.1855962504539418, 0.13677955489556037, 0.4094609685680285, 0.4363149342044793, 0.6165705616805285, 0.9532399750522246, 0.3872933888326694]]
    var xAxis = ["var1", "var2", "var4"]
    var myChart = echarts.init(myChart); 
    var data = dataTool.prepareBoxplotData(alldata);
    
option = {
    title: [
        {
            text: '箱线图',
            left: 'left',
        }
    ],
    tooltip: {
        trigger: 'item',
        axisPointer: {
            type: 'shadow'
        }
    },
    toolbox: {
            show : true,
            feature : {
                mark : {show: true},
                dataView : {show: true, readOnly: false},
                restore : {show: true},
                saveAsImage : {show: true}
            }
        },
    legend:
    {
    	data:['box',"outlier"]
    },
    dataZoom: [
        {
            type: 'slider',
            xAxisIndex: 0,
            filterMode: 'empty'
        },
        {
            type: 'slider',
            yAxisIndex: 0,
            filterMode: 'empty'
        },
    ],
    xAxis: {
        type: 'category',
        data: xAxis,
        boundaryGap: true,
        nameGap: 30,
        splitArea: {
            show: false
        },
        splitLine: {
            show: false
        },
        scale: true,
    },
    yAxis: {
        type: 'value',
        splitArea: {
            show: true
        },
        scale: true,
    },
    series: [
        {
            name: 'box',
            type: 'boxplot',
            data: data.boxData,
            tooltip: {
                formatter: function (param) {
                    return [
                        '日期' + param.name + ': ',
                        '上界: ' + param.data[5],
                        '三分位: ' + param.data[4],
                        '中位数: ' + param.data[3],
                        '一分位: ' + param.data[2],
                        '下界: ' + param.data[1]
                    ].join('<br/>');
                }
            }
        },
        {
            name: 'outlier',
            type: 'scatter',
            data: data.outliers
        }
    ]
};
		myChart.setOption(option);
        
    </script>
</body>
</html>