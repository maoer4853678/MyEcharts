<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>3D散点图</title>
    <!-- 引入 echarts.js -->
    <script src="../js/echarts.min.js"></script>
    <script src="../js/echarts-gl.min.js"></script>
</head>
<body>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="width: 1500px;height:450px;"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例

        var myChart = document.getElementById('main');
        if (window.innerWidth>50) 
    {
        if (window.innerHeight>50) 
        {
            myChart.style.width = window.innerWidth-30+'px';
            myChart.style.height = window.innerHeight-30+'px';
        }   
    }
             
var itemStyle = {
    normal: {
        opacity: 0.8,
        shadowBlur: 10,
        shadowOffsetX: 0,
        shadowOffsetY: 0,
        shadowColor: 'rgba(0, 0, 0, 0.5)'
    }
};
    var alldata = {"A": [["var1", "var2", "var3", "class"], [0.43409540083268805, 0.4923431726782177, 0.9772627675515713, "A"], [0.3576441163284877, 0.14929936744150518, 0.15630846321362102, "A"], [0.5945528430332983, 0.030945258970214384, 0.8385837484256862, "A"], [0.31814461732066446, 0.42348175208130445, 0.03215789995333973, "A"], [0.1790631291027387, 0.004718557647953037, 0.09685366689811392, "A"], [0.691230173904532, 0.3690614808105577, 0.7131438142431759, "A"], [0.1423228037229487, 0.19910415500261391, 0.15984648946822055, "A"], [0.5536605364848052, 0.19556923469486376, 0.48847603830329434, "A"], [0.6727016958135362, 0.006191503727387082, 0.5435355234125128, "A"], [0.5571658271173157, 0.15971313339854043, 0.719451816269018, "A"], [0.2721810920184998, 0.4426477228428335, 0.6460641090646038, "A"], [0.1427807606118393, 0.22115813178675403, 0.7213462080258416, "A"], [0.9303209133539977, 0.24011732685419607, 0.5096068167789903, "A"], [0.5209896872758409, 0.10031212392304156, 0.23047278002101812, "A"], [0.9400220893864007, 0.29266362098208065, 0.13212305367114807, "A"], [0.431352370682731, 0.392450547852936, 0.6865667983231195, "A"], [0.8784443112431932, 0.1620134447078132, 0.8617553990940658, "A"], [0.555699778330795, 0.9015479826879371, 0.9817895210074842, "A"], [0.35559284696965754, 0.7862199531222999, 0.13520214031374922, "A"], [0.3164399822819899, 0.7361162831083854, 0.8674188505626896, "A"], [0.7956485507599008, 0.7848215173877531, 0.9292808287429428, "A"], [0.6974158662010389, 0.5176972089538018, 0.9286808872982893, "A"], [0.5086988627937473, 0.8563274852030913, 0.6936851116953615, "A"], [0.7877885600390598, 0.7507603099757091, 0.03724290804136565, "A"], [0.8322022186729487, 0.4863517040013582, 0.32775503249458326, "A"], [0.7483725333746165, 0.5892293437550203, 0.2165781806126077, "A"], [0.3688705599802884, 0.6583196149554151, 0.9173298611558994, "A"], [0.5797335748092487, 0.3089499689726172, 0.21754635958904722, "A"], [0.2761611961960756, 0.34531487550481843, 0.6494188976301712, "A"], [0.32999340195611204, 0.8599364117700592, 0.3358074287362671, "A"], [0.81933310374673, 0.9232380615161516, 0.8032548446967118, "A"], [0.42919863940575254, 0.8891631153147983, 0.36412913794855695, "A"], [0.06949954794961699, 0.10374652928908823, 0.1308979545234451, "A"], [0.6809870721713976, 0.20733928454418726, 0.824815560185204, "A"], [0.49183691298874, 0.1935792352012895, 0.3003310387745789, "A"], [0.38735397073233135, 0.8579243434717464, 0.6633809508010965, "A"], [0.49370714641077773, 0.0961298209504805, 0.09748912664377252, "A"], [0.6054387800790842, 0.5303673568200405, 0.5473394540980949, "A"], [0.568448914317874, 0.4101414033368408, 0.7210357804423226, "A"], [0.104615720272906, 0.9547717353849363, 0.9688027725346264, "A"], [0.3746777187037065, 0.11064902545161615, 0.3849893805206879, "A"], [0.6040756888799255, 0.014494087593275307, 0.41848936779008483, "A"], [0.5408021822806075, 0.9112737839143675, 0.09995364574259091, "A"], [0.21156632788884222, 0.6033105508188471, 0.29886893799651104, "A"], [0.5726561438693722, 0.535479961784815, 0.18092184553617863, "A"], [0.27382950887568824, 0.11236909775069759, 0.44248910892470983, "A"], [0.4993560947301773, 0.9740388902569106, 0.7136463374018236, "A"], [0.3009113971599777, 0.0026052179455174906, 0.7428268051634928, "A"], [0.2603120017900129, 0.9650411977411446, 0.06120981456151542, "A"], [0.6147703609561799, 0.44043165565776454, 0.8092189036488183, "A"]], "B": [["var1", "var2", "var3", "class"], [0.7520873340744907, 0.44212241126317553, 0.5336635124097124, "B"], [0.6875658188662671, 0.029201023028484374, 0.40449039257704433, "B"], [0.5364811701874431, 0.5218459875443147, 0.9557669572015313, "B"], [0.3198868222827571, 0.7500412085177791, 0.8239692519141544, "B"], [0.47623085131853704, 0.023601361199546367, 0.4062637855830392, "B"], [0.17575745252284658, 0.9470934770672759, 0.47717568436955693, "B"], [0.7704528735749303, 0.4136361854935493, 0.328929526874428, "B"], [0.6991734197325193, 0.3660561781450793, 0.5818827270861443, "B"], [0.5573583290964862, 0.7567326467360569, 0.8272205598886311, "B"], [0.9966579079432649, 0.4679135341867411, 0.1163332849852119, "B"], [0.1648669917533062, 0.6076912362606247, 0.7924995975742217, "B"], [0.035315480572675195, 0.06617470788873536, 0.35269792854369164, "B"], [0.3607455681830839, 0.7077620197788556, 0.3867126785230981, "B"], [0.4871446563841241, 0.5844134002222134, 0.27227887057758815, "B"], [0.475652611392276, 0.9828868875542216, 0.7500037687795689, "B"], [0.5819387430599348, 0.2424954301848654, 0.8554157963663577, "B"], [0.025383499500652218, 0.5201442491531779, 0.37632724230379055, "B"], [0.22924912352875837, 0.9814805474211322, 0.10869154299045058, "B"], [0.16894781335919395, 0.7085362388831916, 0.9862564645096638, "B"], [0.919279696950409, 0.20082714139718605, 0.24210574189780798, "B"], [0.5558038876563359, 0.41203975806140414, 0.994366114538826, "B"], [0.5624903880235604, 0.07908239381955418, 0.29244793586117734, "B"], [0.5899636153082947, 0.02954466564242242, 0.7120977113277889, "B"], [0.13234568747453845, 0.24312935474841524, 0.7734267657002162, "B"], [0.9546718976355026, 0.6432058235467232, 0.12316814875852689, "B"], [0.30297258681957195, 0.9983633971604028, 0.7208913370808103, "B"], [0.22503258847748775, 0.9929869604143178, 0.38012937294589577, "B"], [0.22860541516669142, 0.9045779728092321, 0.7048724148310719, "B"], [0.8284953694662206, 0.8007925239773152, 0.3171001840265002, "B"], [0.9541026245032472, 0.9792733608645876, 0.5749552199320486, "B"], [0.9465089742602525, 0.05945993315965126, 0.5740497006826161, "B"], [0.719865850979583, 0.9807221086927483, 0.6767757936081711, "B"], [0.7782555988967484, 0.5355328118672911, 0.8832560309178261, "B"], [0.5500910227085878, 0.5216157869802669, 0.8985905202510964, "B"], [0.47948732055604626, 0.15835239017140168, 0.8563843340375318, "B"], [0.35582646397814754, 0.780649359142012, 0.3893888206391384, "B"], [0.0009845086908298883, 0.5819601111776869, 0.04830692431324746, "B"], [0.02706980579359286, 0.5058692405217521, 0.24578138014203144, "B"], [0.6784381349098269, 0.507405354251217, 0.30231880932147037, "B"], [0.3087724283372115, 0.7697505649055978, 0.3015993223658402, "B"], [0.3453114120717383, 0.07308946059155108, 0.34686418236215844, "B"], [0.779765941411414, 0.29184686280158645, 0.5880583881533483, "B"], [0.28007757104154607, 0.40275229974954185, 0.31132872472104467, "B"], [0.1914924079328092, 0.7750604650217611, 0.815921172906879, "B"], [0.41622672793683113, 0.04743264109805989, 0.37738419910229304, "B"], [0.046483010281755166, 0.34007134596438615, 0.2872209040915249, "B"], [0.10100480222768171, 0.7096148012197673, 0.15707402643723023, "B"], [0.5748098359366914, 0.11420064179843659, 0.8628880583822353, "B"], [0.3166189487648001, 0.3029515934163294, 0.9269397226524714, "B"], [0.2918474841802504, 0.1532927604409785, 0.9717606784086472, "B"]]}
    var types = ["value", "value", "value"]
    var columns = {"Y": "var2", "X": "var1", "Z": "var3"}

    var myChart = echarts.init(myChart); 

    var symbolSize = 5;
    option = {
        toolbox: {
            show : true,
            feature : {
                mark : {show: true},
                dataView : {show: true, readOnly: false},
                restore : {show: true},
                saveAsImage : {show: true}
            }
        },
        grid3D: {},
        xAxis3D: {
            type: types[0]
        },
        legend:{data:[]},
        yAxis3D: {
            type: types[1]
        },
        zAxis3D: {
            type: types[2]
        },
        dataset: [],
        series: [
        ]
    };
    
     load()

function load()
    {
        n=0
        legend = []
        for (key in alldata)
        {
            data = {
                    source: alldata[key]
                }

            temp = {   
                name:key,
                type: 'scatter3D',
                symbolSize: symbolSize,
                encode: {
                    x: columns['X'],
                    y: columns['Y'],
                    z: columns['Z'],
                    tooltip: [0, 1, 2, 3]
                },
                datasetIndex :n
            }
            option.dataset.push(data)
            option.series.push(temp)
            legend.push(key)
        n=n+1
        }
        option.legend.data = legend
        myChart.setOption(option);
    }

    </script>
</body>
</html>