<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>时序箱线图</title>
    <!-- 引入 echarts.js -->
    <script src="../js/echarts.min.js"></script>
    <script src="../js/ecStat.js"></script>
    <script src="../js/dataTool.min.js"></script>
</head>
<body >
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="width: 1500px;height:470px;"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例

    var myChart = document.getElementById('main');
    if (window.innerWidth>50) 
    {
        if (window.innerHeight>50) 
        {
            myChart.style.width = window.innerWidth-30+'px';
            myChart.style.height = window.innerHeight-30+'px';
        }	
    }
    var alldata = [[0.5476609632940344], [0.576557174523419], [0.7988595131310777], [0.43481580363268213], [0.27197144096715054], [0.13487744284733394], [0.4518062657087365], [0.8002183866493519], [0.5676420100794385], [0.2940521864573472], [0.19945900455331833], [0.7337984224204758], [0.6389628478083808], [0.6174860367040319], [0.3372515057744232], [0.3910191025605366], [0.6668240720967137], [0.6882910285675035], [0.12027149921398927], [0.8464145607647745], [0.783427478602486], [0.6550792575117939], [0.12149240062330913], [0.752486394334209], [0.11189279056213453], [0.45199779735911516], [0.558463783993803], [0.27394948329996194], [0.007921373983333813], [0.15936884725260703], [0.04509445138145962], [0.5905616720297697], [0.7483087301019631], [0.29084673231859626], [0.727382067175838], [0.21048909548845895], [0.26954305061499306], [0.533864528339369], [0.9028706199745725], [0.13070273298312451], [0.8605333003069207], [0.11856168504119768], [0.9309165527017653], [0.94096892021382], [0.17011797080723212], [0.6241286303069478], [0.37718617526101295], [0.8567064123456902], [0.7446578394485093], [0.23790231446697563], [0.5560030688338684], [0.2791368487686088], [0.7386164427767407], [0.9283326764057254], [0.02307632237486601], [0.4374128322368058], [0.4313517195159172], [0.6125480318829882], [0.7247310268909655], [0.061797640293080325], [0.651114236622352], [0.6516998661482413], [0.18327222141231136], [0.4920349481613312], [0.5536879054487622], [0.41189170066876424], [0.07222486077106927], [0.9672979254303783], [0.6807331180226172], [0.32730427130963025]]
    var xAxis = ["2018-01-02", "2018-01-03", "2018-01-04", "2018-01-05", "2018-01-06", "2018-01-07", "2018-01-08", "2018-01-09", "2018-01-10", "2018-01-11", "2018-01-12", "2018-01-13", "2018-01-14", "2018-01-15", "2018-01-16", "2018-01-17", "2018-01-18", "2018-01-19", "2018-01-20", "2018-01-21", "2018-01-22", "2018-01-23", "2018-01-24", "2018-01-25", "2018-01-26", "2018-01-27", "2018-01-28", "2018-01-29", "2018-01-30", "2018-01-31", "2018-02-01", "2018-02-02", "2018-02-03", "2018-02-04", "2018-02-05", "2018-02-06", "2018-02-07", "2018-02-08", "2018-02-09", "2018-02-10", "2018-02-11", "2018-02-12", "2018-02-13", "2018-02-14", "2018-02-15", "2018-02-16", "2018-02-17", "2018-02-18", "2018-02-19", "2018-02-20", "2018-02-21", "2018-02-22", "2018-02-23", "2018-02-24", "2018-02-25", "2018-02-26", "2018-02-27", "2018-02-28", "2018-03-01", "2018-03-02", "2018-03-03", "2018-03-04", "2018-03-05", "2018-03-06", "2018-03-07", "2018-03-08", "2018-03-09", "2018-03-10", "2018-03-11", "2018-03-12"]
    var lines = [0.5476609632940344, 0.576557174523419, 0.7988595131310777, 0.43481580363268213, 0.27197144096715054, 0.13487744284733394, 0.4518062657087365, 0.8002183866493519, 0.5676420100794385, 0.2940521864573472, 0.19945900455331833, 0.7337984224204758, 0.6389628478083808, 0.6174860367040319, 0.3372515057744232, 0.3910191025605366, 0.6668240720967137, 0.6882910285675035, 0.12027149921398927, 0.8464145607647745, 0.783427478602486, 0.6550792575117939, 0.12149240062330913, 0.752486394334209, 0.11189279056213453, 0.45199779735911516, 0.558463783993803, 0.27394948329996194, 0.007921373983333813, 0.15936884725260703, 0.04509445138145962, 0.5905616720297697, 0.7483087301019631, 0.29084673231859626, 0.727382067175838, 0.21048909548845895, 0.26954305061499306, 0.533864528339369, 0.9028706199745725, 0.13070273298312451, 0.8605333003069207, 0.11856168504119768, 0.9309165527017653, 0.94096892021382, 0.17011797080723212, 0.6241286303069478, 0.37718617526101295, 0.8567064123456902, 0.7446578394485093, 0.23790231446697563, 0.5560030688338684, 0.2791368487686088, 0.7386164427767407, 0.9283326764057254, 0.02307632237486601, 0.4374128322368058, 0.4313517195159172, 0.6125480318829882, 0.7247310268909655, 0.061797640293080325, 0.651114236622352, 0.6516998661482413, 0.18327222141231136, 0.4920349481613312, 0.5536879054487622, 0.41189170066876424, 0.07222486077106927, 0.9672979254303783, 0.6807331180226172, 0.32730427130963025]
    var myChart = echarts.init(myChart); 
    var data = dataTool.prepareBoxplotData(alldata);
    
option = {
    title: [
        {
            text: '时序箱线图',
            left: 'left',
        }
    ],
    tooltip: {
        trigger: 'item',
        axisPointer: {
            type: 'shadow'
        }
    },
    legend:
    {
    	data:['box',"outlier",'median']
    },
    dataZoom: [
        {
            type: 'slider',
            xAxisIndex: 0,
            filterMode: 'empty'
        },
        {
            type: 'slider',
            yAxisIndex: 0,
            filterMode: 'empty'
        },
    ],
    xAxis: {
        type: 'category',
        data: xAxis,
        boundaryGap: true,
        nameGap: 30,
        splitArea: {
            show: false
        },
        splitLine: {
            show: false
        }
    },
    yAxis: {
        type: 'value',
        splitArea: {
            show: true
        }
    },
    series: [
        {
            name: 'box',
            type: 'boxplot',
            data: data.boxData,
            tooltip: {
                formatter: function (param) {
                    return [
                        '日期' + param.name + ': ',
                        '上界: ' + param.data[5],
                        '三分位: ' + param.data[4],
                        '中位数: ' + param.data[3],
                        '一分位: ' + param.data[2],
                        '下界: ' + param.data[1]
                    ].join('<br/>');
                }
            }
        },
        {
            name: 'outlier',
            type: 'scatter',
            data: data.outliers
        },
        {
        	name:"median",
        	type:"line",
        	data: lines
        }
    ]
};
		myChart.setOption(option);

        // 使用刚指定的配置项和数据显示图表。
        
    </script>
</body>
</html>